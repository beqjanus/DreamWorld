<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<title>Moving a DreamGrid to another folder or PC</title>
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:SimSun;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Calibri Light";
	panose-1:2 15 3 2 2 2 4 3 2 4;}
@font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:"Kozuka Mincho Pro B";
	panose-1:2 2 8 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@SimSun";
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:"\@Kozuka Mincho Pro B";}
@font-face
	{font-family:"\@Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:5.0pt;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;
	font-size:10.0pt;
	font-family:"Verdana",sans-serif;}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:5.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	line-height:115%;
	background:#5B9BD5;
	border:none;
	padding:0in;
	font-size:11.0pt;
	font-family:"Verdana",sans-serif;
	color:white;
	text-transform:uppercase;
	letter-spacing:.75pt;
	font-weight:normal;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:5.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	line-height:115%;
	background:#DEEAF6;
	border:none;
	padding:0in;
	font-size:10.0pt;
	font-family:"Verdana",sans-serif;
	text-transform:uppercase;
	letter-spacing:.75pt;
	font-weight:normal;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	color:white;
	text-transform:uppercase;
	letter-spacing:.75pt;
	background:#5B9BD5;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	text-transform:uppercase;
	letter-spacing:.75pt;
	background:#DEEAF6;}
.MsoChpDefault
	{font-family:"Calibri",sans-serif;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 65.95pt 1.0in 65.95pt;}
div.WordSection1
	{page:WordSection1;}
-->
</style>

</head>

<body lang=EN-US link=blue vlink="#954F72" style='word-wrap:break-word'>

<div class=WordSection1>

<div style='border:solid #5B9BD5 3.0pt;padding:0in 0in 0in 0in;background:#5B9BD5'>

<h1><a name="OLE_LINK19">Moving a DreamGrid to another folder or PC</a></h1>

</div>

<p class=MsoNormal>There are no dependencies outside of the DreamGrid folder to
copy to a new location.</p>

<div style='border:solid #DEEAF6 3.0pt;padding:0in 0in 0in 0in;background:#DEEAF6'>

<h2><span style='color:black'>Method 1</span></h2>

</div>

<p class=MsoNormal>Stop the original grid and go to
Setup-&gt;Setting-&gt;Caches. Select and clear all the caches. These do not
need to be copied and are huge. Opensim will recreate them as needed. The
states of scripts will be maintained as the .STATE files are not deleted.</p>

<p class=MsoNormal>Now copy the entire folder from one machine to the other or
from one folder to another.</p>

<div style='border:solid #DEEAF6 3.0pt;padding:0in 0in 0in 0in;background:#DEEAF6'>

<h2><span style='color:black'>Method 2</span></h2>

</div>

<p class=MsoNormal>Another method is to unzip a new copy of DreamGrid on the
destination machine.   Then copy the file Outworldzfiles\Settings.ini, 
Outworldzfiles\mysql\data, Outworldzfiles\opensim\bin\fsassets and Outworldzfiles\opensim\bin\regions
to the second machine or folder.</p>

<p class=MsoNormal>If you are running the Apache web server (for jOpensim Or
Maps), install the service packs in Setting-&gt;Apache, which is also in the
folder MSFT_Runtimes.&nbsp; <br>
<br>
<img width=465 height=217 src="Moving%20Your%20Grid_files/image001.jpg"></p>

<p class=MsoNormal><br>
It may ask to reboot.  There is no need to reboot. If it asks, type 'i' to
ignore, then 'y' to install.&nbsp; </p>

<p class=MsoNormal><b>Router:   </b>You will need to port forward to the new IP
if you are on the hypergrid.&nbsp; <br>
<br>
<b>Anti Virus:</b> If setting up a new computer, you will want to check that
any 3rd party anti-virus is not blocking ports. Also add an exclusion to the
Opensim\bin folder to the Real-time component of any virus scanner as this area
gets heavy use of Script DLLS, and it will cause issues with scripts starting
up or being created.&nbsp;&nbsp; Opensim does not create viruses, and all my
code is digitally encrypted and signed by Microsoft Authenticode and will not
run if even a single bit changes.</p>

<p class=MsoNormal>&nbsp;</p>

<div style='border:solid #DEEAF6 3.0pt;padding:0in 0in 0in 0in;background:#DEEAF6'>

<h2><span style='color:black'>Method 3</span></h2>

</div>

<p class=MsoNormal>All these ways to copy the files depends upon copying up to
a million or more files. In particular, Msql’s ibdata file and the Outworldzfiles\opensim\bin\fsassets
folder are extremely large.</p>

<div style='border:solid #DEEAF6 3.0pt;padding:0in 0in 0in 0in;background:#DEEAF6'>

<h2><span style='color:black'>Running DreamGrid On A Server</span></h2>

</div>

<p class=MsoNormal>One of the difficulties in moving to a server such as
Contabo.com is moving the files to it.</p>

<p class=MsoNormal>The big problem is mysql\data\ibdata - which is literally
your grid and must be moved.   There are many ways to do this: Google drive,
dropbox, ftp, but most of those require $$ or are slow.&nbsp;One way is to use
Windows SMB file sharing.</p>

<p class=MsoNormal>The remote server can appear as a local disk, such as X: or
Z: with SMB file shares so you can copy and paste files.&nbsp;This makes it
trivially easy to make backups and move OARs and backups off Contabo and store
them at your home.</p>

<div style='border:solid #DEEAF6 3.0pt;padding:0in 0in 0in 0in;background:#DEEAF6'>

<h2><span style='color:black'>Log Into Your Server</span></h2>

</div>

<p class=MsoNormal>Log in with remote desktop or VNC&nbsp; as an Administrator.&nbsp;&nbsp;&nbsp;You
need a strong password for your account!&nbsp;&nbsp; Don't skimp on this step,
as your server is exposed to the internet in an intimate way, and it will be
probed constantly for weaknesses.<br>
<br>
Now choose a folder.&nbsp; The safest way to share is by making a shared
folder, such as your AUTOBACKUP folder.&nbsp; If someone guesses your password,
then all they get are backups. And you can share the entire drive, too.<br>
<br>
Right click a folder or C: and select Properties.</p>

<p class=MsoNormal><img width=221 height=321
src="Moving%20Your%20Grid_files/image002.png"></p>

<p class=MsoNormal>Click Advanced Sharing:<br>
<br>
</p>

<p class=MsoNormal><img width=311 height=319
src="Moving%20Your%20Grid_files/image003.png"><br>
<br>
Click Add and give it a name, such as &quot;C&quot;, and check &quot;Share this
folder&quot;<br>
<br>
Click Permissions:<br>
<br>
<span style='color:black'><br>
</span><img width=254 height=314 src="Moving%20Your%20Grid_files/image004.png"><span
style='color:black'><br>
<br>
<span style='background:white'>Remove the &quot;Everyone&quot; group and&nbsp;
click Add and type in your login name.</span><br>
<br>
<br>
<span style='background:white'>Press OK</span><br>
<br>
</span><img width=327 height=395 src="Moving%20Your%20Grid_files/image005.png"><span
style='color:black'><br>
<br>
<span style='background:white'>Check &quot;Full control&quot; so all three
permissions are lit up.</span><br>
<br>
<span style='background:white'>Click OK</span><br>
<br>
</span></p>

<div style='border:solid #DEEAF6 3.0pt;padding:0in 0in 0in 0in;background:#DEEAF6'>

<h2><span style='color:black'>Firewall Rules</span></h2>

</div>

<p class=MsoNormal><span style='color:black;background:white'>You need to
enable some ports in Windows Server.&nbsp;&nbsp; Go to Control panel or search
for Advanced Firewall.</span><span style='color:black'><br>
<br>
</span><img width=32 height=32 src="Moving%20Your%20Grid_files/image006.png"
alt=Fiewall><img width=294 height=422
src="Moving%20Your%20Grid_files/image007.png"><span style='color:black'><br>
<br>
<span style='background:white'>In the firewall screen, click Inbound Rules</span><br>
<br>
<br>
</span><img width=32 height=32 src="Moving%20Your%20Grid_files/image006.png"
alt="Incoming rules"><img width=175 height=172
src="Moving%20Your%20Grid_files/image008.png"><span style='color:black'><br>
<br>
<span style='background:white'>On the right side, click New Rule</span><br>
</span><img width=293 height=187 src="Moving%20Your%20Grid_files/image009.png"><span
style='color:black'><br>
</span><img width=32 height=32 src="Moving%20Your%20Grid_files/image006.png"
alt="New Rule"><span style='color:black'><br>
<br>
<span style='background:white'>Give it a name such as &quot;File Sharing
TCP&quot;</span><br>
<br>
<span style='background:white'><img width=385 height=373
src="Moving%20Your%20Grid_files/image010.png"></span></span></p>

<p class=MsoNormal><span style='color:black;background:white'>In Protocols and
Ports&nbsp; Select&nbsp;TCP&nbsp;and add the following ports:</span></p>

<p class=MsoNormal><span style='color:black;background:white'><br>
134-139, 445, 389, 88</span><span style='color:black'><br>
<br>
</span><img width=384 height=336 src="Moving%20Your%20Grid_files/image011.png"><span
style='color:black'><br>
<br>
<b><span style='background:white'>Repeat the above steps for a name such as
&quot;File Sharing&nbsp;UDP&quot;</span><br>
</b><br>
<span style='background:white'>Repeat the step &quot;Protocols and Ports&quot;
Select&nbsp;<b>UDP&nbsp;</b>and add the following ports:</span><br>
<br>
<span style='background:white'>134-139, 445, 389, 88</span><br>
<br>
<span style='background:white'>Click Apply</span></span></p>

<p class=MsoNormal><span style='background:white'>&nbsp;</span></p>

<div style='border:solid #DEEAF6 3.0pt;padding:0in 0in 0in 0in;background:#DEEAF6'>

<h2><span style='color:black'>Sharing Files To And From Your Server</span></h2>

</div>

<p class=MsoNormal><span style='color:black'>To connect, you can use the IP,
DNS name, or Outworldz.net name.&nbsp; This is the same name you connect to
Contabo&nbsp; in VNC or Remote Desktop,</span></p>

<p class=MsoNormal><span style='color:black'>Go to File Explorer in Windows at
your Home PC. You can get there by pressing the Windows Logo key and the 'e'
key at the same time.</span></p>

<p class=MsoNormal><span style='color:black'>Type two back slashes \\ in the
address bar and then the&nbsp; name of your server:</span></p>

<p class=MsoNormal><span style='color:black'>You should get a password prompt:</span></p>

<p class=MsoNormal><img width=336 height=280
src="Moving%20Your%20Grid_files/image012.png"></p>

<p class=MsoNormal><span style='color:black'>Enter your password and you should
see the share name that you set up.</span></p>

<p class=MsoNormal><img width=386 height=278
src="Moving%20Your%20Grid_files/image013.png"></p>

<p class=MsoNormal><span style='color:black'>You can use this name and path as
if it is local to your PC and drag and drop files to it. Or Copy and Paste.</span></p>

<p class=MsoNormal><span style='color:black'>You can also Map a drive letter to
it.</span></p>

<p class=MsoNormal><span style='color:black'>Right click the folder and select
&quot;Map Network Drive&quot;</span></p>

<p class=MsoNormal><img width=216 height=90
src="Moving%20Your%20Grid_files/image014.png"></p>

<p class=MsoNormal><span style='color:black'>&nbsp;Choose a drive letter and
click Apply</span></p>

<p class=MsoNormal><span style='color:black'>Now you can simply go to the drive
letter and access your server.</span><b><span style='color:#EEEEEE'>Backups:</span></b></p>

<p class=MsoNormal><span style='color:black'>Now that your server is set up for
file access, you can use programs such as&nbsp; robocopy (free, built into
windows), and paid backup programs such as SyncBack to move or copy your grid
to your home PC on a regular basis.</span></p>

<p class=MsoNormal><span style='color:black'>Example: I created map drive as X:
to a folder on the server and added a batch file named Backup.bat.</span></p>

<p class=MsoNormal><span style='color:black'>I then ran this from the server as
X:/backup.bat and it copied my Servers&nbsp;</span><a href="file:///X:/tm,p"><span
style='color:#5973CC'>X:\tmp</span></a><span style='color:black'>&nbsp;folder
to my home PC&nbsp;</span><a href="../../../../../../tmp"><span
style='color:#5973CC'>C:\tmp</span></a><span style='color:black'>&nbsp;folder.</span></p>

<p class=MsoNormal><span style='color:black'>You can now use robocopy to backup
your entire grid, or the Backup folder with one simple command
&quot;X:/Backup&quot; by changing the folder names in the batch file.</span></p>

<p class=MsoNormal><span style='color:black;background:white'>PS X:\&gt;<b>&nbsp;.\Backup.bat</b><br>
<br>
X:\&gt;robocopy X:\tmp c:\tmp /e<br>
<br>
-------------------------------------------------------------------------------<br>
ROBOCOPY :: Robust File Copy for Windows<br>
-------------------------------------------------------------------------------<br>
<br>
Started : Monday, October 19, 2020 11:38:27 PM<br>
Source : X:\tmp\<br>
Dest : c:\tmp\<br>
<br>
Files : *.*<br>
<br>
Options : *.* /S /E /DCOPY:DA /COPY:DAT /R:1000000 /W:30<br>
<br>
------------------------------------------------------------------------------<br>
<br>
0 X:\tmp\<br>
New Dir 0 X:\tmp\A\<br>
<br>
------------------------------------------------------------------------------<br>
<br>
Total Copied Skipped Mismatch FAILED Extras<br>
Dirs : 2 1 1 0 0 1<br>
Files : 0 0 0 0 0 8<br>
Bytes : 0 0 0 0 0 27.63 m<br>
Times : 0:00:00 0:00:00 0:00:00 0:00:00<br>
Ended : Monday, October 19, 2020 11:38:28 PM<br>
<br>
PS X:\&gt;</span></p>

<p class=MsoNormal>&nbsp;</p>

</div>

</body>

</html>
