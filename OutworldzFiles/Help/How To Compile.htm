<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Segoe UI";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:5.0pt;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:5.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	line-height:115%;
	background:#4472C4;
	border:none;
	padding:0in;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;
	color:white;
	text-transform:uppercase;
	letter-spacing:.75pt;
	font-weight:normal;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:5.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	line-height:115%;
	background:#D9E2F3;
	border:none;
	padding:0in;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;
	text-transform:uppercase;
	letter-spacing:.75pt;
	font-weight:normal;}
h3
	{mso-style-link:"Heading 3 Char";
	margin-top:15.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;
	color:#1F3763;
	text-transform:uppercase;
	letter-spacing:.75pt;
	font-weight:normal;}
h4
	{mso-style-link:"Heading 4 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;
	color:#2F5496;
	text-transform:uppercase;
	letter-spacing:.5pt;
	font-weight:normal;}
h5
	{mso-style-link:"Heading 5 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;
	color:#2F5496;
	text-transform:uppercase;
	letter-spacing:.5pt;
	font-weight:normal;}
h6
	{mso-style-link:"Heading 6 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;
	color:#2F5496;
	text-transform:uppercase;
	letter-spacing:.5pt;
	font-weight:normal;}
p.MsoHeading7, li.MsoHeading7, div.MsoHeading7
	{mso-style-link:"Heading 7 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	line-height:115%;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;
	color:#2F5496;
	text-transform:uppercase;
	letter-spacing:.5pt;}
p.MsoHeading8, li.MsoHeading8, div.MsoHeading8
	{mso-style-link:"Heading 8 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	line-height:115%;
	font-size:9.0pt;
	font-family:"Calibri",sans-serif;
	text-transform:uppercase;
	letter-spacing:.5pt;}
p.MsoHeading9, li.MsoHeading9, div.MsoHeading9
	{mso-style-link:"Heading 9 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	line-height:115%;
	font-size:9.0pt;
	font-family:"Calibri",sans-serif;
	text-transform:uppercase;
	letter-spacing:.5pt;
	font-style:italic;}
p.MsoCaption, li.MsoCaption, div.MsoCaption
	{margin-top:5.0pt;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;
	font-size:8.0pt;
	font-family:"Calibri",sans-serif;
	color:#2F5496;
	font-weight:bold;}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{mso-style-link:"Title Char";
	margin:0in;
	line-height:115%;
	font-size:26.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#4472C4;
	text-transform:uppercase;
	letter-spacing:.5pt;}
p.MsoSubtitle, li.MsoSubtitle, div.MsoSubtitle
	{mso-style-link:"Subtitle Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:25.0pt;
	margin-left:0in;
	font-size:10.5pt;
	font-family:"Calibri",sans-serif;
	color:#595959;
	text-transform:uppercase;
	letter-spacing:.5pt;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:#954F72;
	text-decoration:underline;}
em
	{color:#1F3763;
	text-transform:uppercase;
	letter-spacing:.25pt;
	font-style:normal;}
p
	{margin-right:0in;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;}
pre
	{mso-style-link:"HTML Preformatted Char";
	margin-top:5.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	font-size:10.0pt;
	font-family:"Courier New";}
p.MsoNoSpacing, li.MsoNoSpacing, div.MsoNoSpacing
	{margin-top:5.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoQuote, li.MsoQuote, div.MsoQuote
	{mso-style-link:"Quote Char";
	margin-top:5.0pt;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;
	font-size:12.0pt;
	font-family:"Calibri",sans-serif;
	font-style:italic;}
p.MsoIntenseQuote, li.MsoIntenseQuote, div.MsoIntenseQuote
	{mso-style-link:"Intense Quote Char";
	margin-top:12.0pt;
	margin-right:.75in;
	margin-bottom:12.0pt;
	margin-left:.75in;
	text-align:center;
	font-size:12.0pt;
	font-family:"Calibri",sans-serif;
	color:#4472C4;}
span.MsoSubtleEmphasis
	{color:#1F3763;
	font-style:italic;}
span.MsoIntenseEmphasis
	{color:#1F3763;
	text-transform:uppercase;
	letter-spacing:.5pt;
	font-weight:bold;}
span.MsoSubtleReference
	{color:#4472C4;
	font-weight:bold;}
span.MsoIntenseReference
	{color:#4472C4;
	text-transform:uppercase;
	font-weight:bold;
	font-style:italic;}
span.MsoBookTitle
	{letter-spacing:0pt;
	font-weight:bold;
	font-style:italic;}
p.MsoTocHeading, li.MsoTocHeading, div.MsoTocHeading
	{margin-top:5.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	line-height:115%;
	background:#4472C4;
	border:none;
	padding:0in;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;
	color:white;
	text-transform:uppercase;
	letter-spacing:.75pt;}
span.HTMLPreformattedChar
	{mso-style-name:"HTML Preformatted Char";
	mso-style-link:"HTML Preformatted";
	font-family:"Courier New";}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	color:white;
	text-transform:uppercase;
	letter-spacing:.75pt;
	background:#4472C4;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	text-transform:uppercase;
	letter-spacing:.75pt;
	background:#D9E2F3;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	color:#1F3763;
	text-transform:uppercase;
	letter-spacing:.75pt;}
span.Heading4Char
	{mso-style-name:"Heading 4 Char";
	mso-style-link:"Heading 4";
	color:#2F5496;
	text-transform:uppercase;
	letter-spacing:.5pt;}
span.Heading5Char
	{mso-style-name:"Heading 5 Char";
	mso-style-link:"Heading 5";
	color:#2F5496;
	text-transform:uppercase;
	letter-spacing:.5pt;}
span.Heading6Char
	{mso-style-name:"Heading 6 Char";
	mso-style-link:"Heading 6";
	color:#2F5496;
	text-transform:uppercase;
	letter-spacing:.5pt;}
span.Heading7Char
	{mso-style-name:"Heading 7 Char";
	mso-style-link:"Heading 7";
	color:#2F5496;
	text-transform:uppercase;
	letter-spacing:.5pt;}
span.Heading8Char
	{mso-style-name:"Heading 8 Char";
	mso-style-link:"Heading 8";
	text-transform:uppercase;
	letter-spacing:.5pt;}
span.Heading9Char
	{mso-style-name:"Heading 9 Char";
	mso-style-link:"Heading 9";
	text-transform:uppercase;
	letter-spacing:.5pt;
	font-style:italic;}
span.TitleChar
	{mso-style-name:"Title Char";
	mso-style-link:Title;
	font-family:"Calibri Light",sans-serif;
	color:#4472C4;
	text-transform:uppercase;
	letter-spacing:.5pt;}
span.SubtitleChar
	{mso-style-name:"Subtitle Char";
	mso-style-link:Subtitle;
	color:#595959;
	text-transform:uppercase;
	letter-spacing:.5pt;}
span.QuoteChar
	{mso-style-name:"Quote Char";
	mso-style-link:Quote;
	font-style:italic;}
span.IntenseQuoteChar
	{mso-style-name:"Intense Quote Char";
	mso-style-link:"Intense Quote";
	color:#4472C4;}
span.re3
	{mso-style-name:re3;}
span.re4
	{mso-style-name:re4;}
span.re6
	{mso-style-name:re6;}
span.br0
	{mso-style-name:br0;}
span.re7
	{mso-style-name:re7;}
span.re8
	{mso-style-name:re8;}
span.nu0
	{mso-style-name:nu0;}
.MsoChpDefault
	{font-size:10.0pt;
	font-family:"Calibri",sans-serif;}
.MsoPapDefault
	{margin-top:5.0pt;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
-->
</style>

</head>

<body lang=EN-US link=blue vlink="#954F72" style='word-wrap:break-word'>

<div class=WordSection1>

<div style='border:solid #4472C4 3.0pt;padding:0in 0in 0in 0in;background:#4472C4'>

<h1><a name="OLE_LINK1">How to Compile DreamGrid</a></h1>

</div>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>Help files are Word docx's with style
sheets and photos in made in View-&gt;Outline mode. The source is at
https://github.com/Outworldz/DreamGridManuals.</span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>The master word doc is &quot;</span><a
href="https://github.com/Outworldz/DreamGridManuals/blob/main/Dreamgrid%20Manual.docx"
title="Dreamgrid Manual.docx"><span style='font-size:10.5pt;font-family:"Segoe UI",sans-serif;
background:#F6F8FA'>Dreamgrid Manual.docx</span></a><span style='font-size:
12.0pt;font-family:"Times New Roman",serif'>&quot;&nbsp; which has an automatic
table of contents that makes the main manual with includes from about 70 other
word docs.&nbsp; These files get saved as &quot;Web Page (filtered) in the
Outworldzfiles\Help folder.&nbsp;&nbsp; </span></p>

<div style='border:solid #D9E2F3 3.0pt;padding:0in 0in 0in 0in;background:#D9E2F3'>

<h2><span style='color:black'>Adding a new manual</span></h2>

</div>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>For a NEW manual only, this procedure is
necessary. After the manual is finished,  saved turn on View Field codes.  Go
to Fuile-&gt;Options at the bottom left of Word.</span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>Now go to the Quick Access Toolbar area of
the Word Options dialog box. In the list of Categories, select Commands Not in
the Ribbon. Scroll through the long list of commands and select View Field
Codes from the list. Click Add.  </span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'><img border=0 width=595 height=487
id="Picture 8" src="How%20To%20Compile_files/image001.png"></span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>Enable this by clicking the menu:</span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'><img border=0 width=399 height=113
id="Picture 9" src="How%20To%20Compile_files/image002.png"></span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>After clicking the {A} you just added, you
see this:</span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'><img border=0 width=618 height=198
id="Picture 4" src="How%20To%20Compile_files/image003.png"
alt="Graphical user interface, text, application, website&#10;&#10;Description automatically generated"></span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>These are all the manuals, in alphabetical
order as a link.   </span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>For a new manual, highlight all the text
in it. Go to the section (alphabetical order) in the DreamGrid Manual.docx. Do
not paste it in. Use “ Paste Special”, “Paste Link”  “Formated Text”:</span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'><img border=0 width=459 height=321
id="Picture 10" src="How%20To%20Compile_files/image004.png"></span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>A perl script &quot;</span><a
href="https://github.com/Outworldz/DreamWorld/blob/V4/Make_zip_v3.pl"
title="Make_zip_v3.pl"><span style='font-size:10.5pt;font-family:"Segoe UI",sans-serif;
background:#F6F8FA'>Make_zip_v3.pl</span></a><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>&quot;&nbsp; copies the web pages and adds
them to both the main and backup Outworldz.com web sites.</span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>&nbsp;</span></p>

<div style='border:solid #D9E2F3 3.0pt;padding:0in 0in 0in 0in;background:#D9E2F3'>

<h2><span style='color:black'>Icons</span></h2>

</div>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>Add the icons to Robust, pCampbot and
Opensim Properties:</span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>Robust is server.ico.&nbsp; pCampbot is
cube_yellow.ico, and Opensim is cube_blue.ico. </span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>You right click the name in the properties
window and select &quot;Properties&quot;. The type the name in.  </span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>&nbsp;</span></p>

<p class=MsoNormal style='line-height:normal'><img border=0 width=554
height=563 id="Picture 1" src="How%20To%20Compile_files/image005.png"
alt="Graphical user interface, text, application, email&#10;&#10;Description automatically generated"></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>&nbsp;</span></p>

<div style='border:solid #D9E2F3 3.0pt;padding:0in 0in 0in 0in;background:#D9E2F3'>

<h2><span style='color:black'>jOpensim and other modules:</span></h2>

</div>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>I can't compile eZombies, though. That's
an interesting module with attacking zombies</span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>I have not added jOpensim Money yet, or
jOpensim 4 yet. This is still V 3.9.&nbsp;&nbsp; </span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>We will need PHP8 for it. Curl has been
replaced with a new curl which changes Search/Datasnapshot too. </span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>&nbsp;</span></p>

<div style='border:solid #D9E2F3 3.0pt;padding:0in 0in 0in 0in;background:#D9E2F3'>

<h2><span style='color:black'>Opensim compile from the beginning</span></h2>

</div>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>Make a folder and do a git clone from </span></p>

<div style='border:solid #2F6FAB 1.0pt;padding:12.0pt 12.0pt 12.0pt 12.0pt;
background:#F9F9F9'>

<p class=MsoNormal style='margin-bottom:0in;line-height:13.2pt;background:#F9F9F9;
border:none;padding:0in'><span style='font-family:"Courier New";color:black'>git
clone </span><span style='color:black'><a
href="git://opensimulator.org/git/opensim"><span style='font-family:"Courier New";
color:#3366BB'>git://opensimulator.org/git/opensim</span></a></span></p>

</div>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>Merge in the Diva and other modules in
addon-modules.</span></p>

<p class=MsoNormal style='line-height:normal'><img border=0 width=470
height=402 id="Picture 2" src="How%20To%20Compile_files/image006.png"
alt="Table&#10;&#10;Description automatically generated"></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>Search and replace all&nbsp;of these in
addon-modules. I used Notepad++.</span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>Or you can select each Addon program in
Visual Studio, go to the Properties of the module, and select Dot Net 4.8</span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>&lt;TargetFrameworkVersion&gt;v4.6&lt;/TargetFrameworkVersion&gt;</span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>with </span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>&lt;TargetFrameworkVersion&gt;v4.8&lt;/TargetFrameworkVersion&gt;</span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>Also all v4_6 to v4_8 in the addon-modules
folder.</span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>Then in all .csproj:</span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>// &lt;autogenerated /&gt;<br>
using System;<br>
using System.Reflection;<br>
&nbsp;[assembly:
global::System.Runtime.Versioning.TargetFrameworkAttribute(&quot;.NETFramework,Version=v4.8&quot;,
FrameworkDisplayName = &quot;.NET Framework 4.8&quot;)]</span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>search and replace all the above
[assembly:...&nbsp; lines.&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>&nbsp;</span></p>

<div style='border:solid #D9E2F3 3.0pt;padding:0in 0in 0in 0in;background:#D9E2F3'>

<h2><span style='color:black'>Visual Studio 2019</span></h2>

</div>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>Download the Visual Studio 2019 Community
Edition. Start it and select the Visual Basic and Visual C# development system</span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>You will need the Developer version of
Microsoft Dot Net 4.8. You can get it from</span></p>

<p class=MsoNormal style='line-height:normal'><a
href="https://dotnet.microsoft.com/en-us/download/visual-studio-sdks"><b><span
style='font-size:12.0pt;font-family:"Times New Roman",serif'>https://dotnet.microsoft.com/en-us/download/visual-studio-sdks</span></b></a></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>Now load the <b>Opensim.sln</b> file in
Visual Studio and it should compile in Release or Development mode.</span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>&nbsp;</span></p>

<div style='border:solid #D9E2F3 3.0pt;padding:0in 0in 0in 0in;background:#D9E2F3'>

<h2><span style='color:black'>DreamGrid modifications</span></h2>

</div>

<div style='border:none;border-top:solid #4472C4 1.0pt;padding:2.0pt 0in 0in 0in'>

<h3>GridService.cs</h3>

</div>

<p class=MsoNormal>This shows all regions on the Diva home page, including
paused Smart Start regions.</p>

<p class=MsoNormal>\addon-modules\1DivaOpenSimServices\GridService.cs</p>

<p class=MsoNormal>In Visual Studio this is in
Diva.OpensimServices\GridService.cs</p>

<p class=MsoNormal>Line 64 is:                <br>
 const RegionFlags flags = RegionFlags.RegionOnline;</p>

<p class=MsoNormal>Line 64 should be this to show Smart Start Regions on the
home screen. These are marked as persistent on first boot by the Opensim setup
in DreamGrid</p>

<p class=MsoNormal>const RegionFlags flags = RegionFlags.RegionOnline |
RegionFlags.Persistent ; <span style='font-size:9.5pt;line-height:115%;
font-family:Consolas;color:green'>// DreamGrid to display Smart Boot on home
page</span></p>

<span style='font-size:9.5pt;line-height:115%;font-family:Consolas;color:green'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal>BasehttpServer.cs</p>

<p class=MsoNormal>This allows DreamGrid to determine when Robust is ready.</p>

<p class=MsoNormal>OpenSim\Framework\Servers\HttpServer\BaseHttpServer.cs</p>

<p class=MsoNormal>Added this code to the HTTP handler for robust. It allows
DreamGrid to determine more accurately when Robust is ready to accept new
commands.</p>

<p class=MsoNormal>Line 2445:    </p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%;font-family:
Consolas;color:green'>    // Smartstart</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%;font-family:
Consolas'>        if (httpRequest.QueryFlags.Contains(&quot;version&quot;))<br>
        {<br>
                httpResponse.StatusCode = (int)HttpStatusCode.OK;<br>
                httpResponse.RawBuffer =
Encoding.ASCII.GetBytes(VersionInfo.Version);<br>
                return;<br>
        }</span></p>

<p class=MsoNormal>&nbsp;</p>

<div style='border:none;border-top:solid #4472C4 1.0pt;padding:2.0pt 0in 0in 0in'>

<h3>llLoginService.cs</h3>

</div>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>This allows people lioggion in to be redirected to welcome
or to get a the destination region thawed.<br>
File Opensim.Services.llLoginService.llLoginService.cs</p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>Insert
between italicized code</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:green'>98:     <i>//IConfig
m_ClientsConfig;</i></span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>:99</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>100:        </span><span
style='font-size:8.0pt;font-family:Consolas;color:green'>// SmartStart</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>101:        </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>protected</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>bool</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> m_SmartStartEnabled =
</span><span style='font-size:8.0pt;font-family:Consolas;color:blue'>false</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>102:       </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>protected</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>string</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> m_SmartStartUrl = </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>string</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>.Empty;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>103:        </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>protected</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>string</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> m_SmartStartMachineID
= </span><span style='font-size:8.0pt;font-family:Consolas;color:blue'>string</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>.Empty;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>104:<br>
105:        </span><i><span style='font-size:8.0pt;font-family:Consolas;
color:blue'>public</span></i><i><span style='font-size:8.0pt;font-family:Consolas;
color:black'> </span></i><i><span style='font-size:8.0pt;font-family:Consolas;
color:#2B91AF'>LLLoginService…</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt;font-family:Consolas;color:#2B91AF'>&nbsp;</span></i></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>--------------------------------------------------------------------------------------------------------</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt;font-family:Consolas;color:#2B91AF'>&nbsp;</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'>  if (!string.IsNullOrWhiteSpace(agentService))</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'>                m_UserAgentService =
ServerUtils.LoadPlugin&lt;IUserAgentService&gt;(agentService, args);</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'>&nbsp;</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'>            // SmartStart</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'>            IConfig SmartStartConfig =
config.Configs[&quot;SmartStart&quot;];</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'>            if(SmartStartConfig != null)</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'>            {</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'>                m_SmartStartEnabled =
SmartStartConfig.GetBoolean(&quot;Enabled&quot;, m_SmartStartEnabled);</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'>                if (m_SmartStartEnabled)</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'>                {</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'>                    m_SmartStartUrl =
SmartStartConfig.GetString(&quot;URL&quot;, m_SmartStartUrl);</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'>                    if(string.IsNullOrEmpty(m_SmartStartUrl))</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'>                        m_SmartStartEnabled = false;</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'>                    else</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'>                    {</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'>                        OSHHTPHost tmpSmartStartURL =
new OSHHTPHost(m_SmartStartUrl, true);</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'>                        if
(!tmpSmartStartURL.IsResolvedHost)</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'>                        {</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'>                            m_log.Error(&quot;[LLOGIN
SERVICE]: Could not parse or resolve SmartStart URI&quot;);</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'>                            throw new
Exception(&quot;LLOGIN SERVICE init error: SmartStart URI&quot;);</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'>                        }</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'>                        m_SmartStartUrl =
tmpSmartStartURL.URI;</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'>                        m_log.Info(&quot;[LLOGIN
SERVICE]: SmartStart Url &quot; + m_SmartStartUrl);</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'>&nbsp;</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'>                        m_SmartStartMachineID =
SmartStartConfig.GetString(&quot;MachineID&quot;, m_SmartStartMachineID);</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'>                    }</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'>                }</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'>            }</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'>            m_log.Info(&quot;[LLOGIN SERVICE]:
SmartStart &quot; + (m_SmartStartEnabled ? &quot;Enabled&quot; :
&quot;Disabled&quot;));</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'>&nbsp;</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'>            // Get the Hypergrid inventory service
(exists only if Hypergrid is enabled)</span></i></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>   public
LLLoginService(IConfigSource config) : this(config, null, null)</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>        {</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>        }</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>--------------------------------------------------------------------------------------------------------</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>       
//DreamGrid SmartStart</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>       
public UUID GetSmartStartALTRegion(UUID regionID, UUID agentID)</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>        {</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>           
// !!! DreamGrid Smart Start sends requested Region UUID to Dreamgrid.</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>           
// If region is on line, returns same UUID. If Offline, returns UUID for
Welcome, brings up the region and teleports you to it.</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>           
if (m_SmartStartEnabled)</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>            {</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>               
string url =
$&quot;{m_SmartStartUrl}?alt={regionID}&amp;agent=UUID&amp;agentid={agentID}&amp;password={m_SmartStartMachineID}&quot;;</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>               
m_log.DebugFormat(&quot;[LLoginService]: GetSmartStartALTRegion Sending request
{0}&quot;, url);</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>               
HttpWebRequest webRequest;</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>               
try</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>               
{</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>                   
webRequest = (HttpWebRequest)WebRequest.Create(url);</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>               
}</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>               
catch</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>               
{</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>                    m_log.Debug(&quot;[LLoginService]:
GetSmartStartALTRegion failed to create url&quot;);</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>                   
return UUID.Zero;</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>               
}</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>               
webRequest.Timeout = 30000; //30 Second Timeout</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>               
webRequest.AllowWriteStreamBuffering = false;</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>               
try</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>               
{</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>                   
string tempStr;</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>                   
using (HttpWebResponse webResponse = (HttpWebResponse)webRequest.GetResponse())</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>                   
{</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>                       
using(StreamReader reader = new StreamReader(webResponse.GetResponseStream()))</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>                           
tempStr = reader.ReadToEnd();</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>                   
}</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>                   
if (string.IsNullOrEmpty(tempStr))</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>                   
{</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>                       
m_log.Debug(&quot;[LLoginService]: GetSmartStartALTRegion returned null&quot;);</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>                       
return UUID.Zero;</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>                   
}</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>                   
m_log.Debug(&quot;[LLoginService]: GetSmartStartALTRegion returned &quot; +
tempStr);</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>                   
regionID = UUID.Parse(tempStr);</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>               
}</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>               
catch (Exception ex)</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>               
{</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>                    m_log.Warn(&quot;[LLoginService]:
GetSmartStartALTRegion exception: &quot; + ex.Message);</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>               
}</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>            }</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>           
return regionID;</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>        }</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>       
public Hashtable SetLevel(string firstName, string lastName, string passwd, int
level, IPEndPoint clientIP)</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>        {</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>--------------------------------------------------------------------------------------------------------</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>  GridRegion
dest = FindDestinationNormal(account, scopeID, pinfo, sessionID, startLocation,
home,</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>               
out gatekeeper, out where, out position, out lookAt, out flags);</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>           
if(!m_SmartStartEnabled || dest == null)</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>               
return dest;</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>           
//RegionFlags.RegionOnline should had a major role here, but it is still
unreliable</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>           
//Jump out if a special region that must be always up</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>            //
for now the smartstart wait region must have one such flags</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>           
//if ((dest.RegionFlags &amp; (RegionFlags.Hyperlink |
RegionFlags.DefaultRegion | RegionFlags.FallbackRegion |
RegionFlags.DefaultHGRegion)) != 0)</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>           
//    return dest;</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>            UUID
rid = GetSmartStartALTRegion(dest.RegionID, account.PrincipalID);</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>           
if (rid == dest.RegionID)</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>               
return dest;</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>           
if (rid == UUID.Zero)</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>               
return null; </span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>           
return m_GridService.GetRegionByUUID(scopeID, rid);</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>        }</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>       
protected GridRegion FindDestinationNormal(</span></p>

<span style='font-size:8.0pt;line-height:115%;font-family:"Calibri",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>&nbsp;</span></p>

<div style='border:none;border-top:solid #4472C4 1.0pt;padding:2.0pt 0in 0in 0in'>

<h3>Scene.cs</h3>

</div>

<p class=MsoNormal>File Opensim.Region.Framework.Scenes.Scene.cs</p>

<p class=MsoNormal>Line 818: insert new code between italicized code</p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>818: public</span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:black'> GridInfo
SceneGridInfo;</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt;font-family:Consolas;color:black'>819:        </span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:green'>820: // SmartStart</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>821: protected</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>bool</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> m_SmartStartEnabled =
</span><span style='font-size:8.0pt;font-family:Consolas;color:blue'>false</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>822: protected</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>string</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> m_SmartStartUrl = </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>string</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>.Empty;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>823: protected</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>string</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> m_SmartStartMachineID
= </span><span style='font-size:8.0pt;font-family:Consolas;color:blue'>string</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>.Empty;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>824:        </span></p>

<p class=MsoNormal><i><span style='font-size:8.0pt;line-height:115%;font-family:
Consolas;color:gray'>825: #endregion</span></i><i><span style='font-size:8.0pt;
line-height:115%;font-family:Consolas;color:black'> Properties</span></i></p>

<p class=MsoNormal><i><span style='font-size:8.0pt;line-height:115%;font-family:
Consolas;color:black'>&nbsp;</span></i></p>

<p class=MsoNormal><i><span style='font-size:8.0pt;line-height:115%;font-family:
Consolas;color:black'>&nbsp;</span></i></p>

<p class=MsoNormal><i><span style='font-size:8.0pt;line-height:115%;font-family:
Consolas;color:black'>&nbsp;</span></i></p>

<p class=MsoNormal><i><span style='font-size:8.0pt;line-height:115%'>&nbsp;</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'>Line
827 insert new code<br>
<span style='font-size:8.0pt'><br>
827: </span><span style='font-size:8.0pt;font-family:Consolas;color:black'>        </span><span
style='font-size:8.0pt;font-family:Consolas;color:gray'>#region</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> Constructors</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>        </span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>        </span><span
style='font-size:8.0pt;font-family:Consolas;color:green'>// SmartStart</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>        </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>public</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> UUID
GetSmartStartALTRegion(UUID regionID, UUID agentID)</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>        {</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>            </span><span
style='font-size:8.0pt;font-family:Consolas;color:green'>// !!! DreamGrid Smart
Start sends requested Region UUID to Dreamgrid.</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>            </span><span
style='font-size:8.0pt;font-family:Consolas;color:green'>// If region is on
line, returns same UUID. If Offline, returns UUID for Welcome, brings up the
region and teleports you to it.</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>            </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>if</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> (m_SmartStartEnabled)</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>            {</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>string</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> url = </span><span
style='font-size:8.0pt;font-family:Consolas;color:#A31515'>$&quot;</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>{m_SmartStartUrl}</span><span
style='font-size:8.0pt;font-family:Consolas;color:#A31515'>?alt=</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>{regionID}</span><span
style='font-size:8.0pt;font-family:Consolas;color:#A31515'>&amp;agent=UUID&amp;agentid=</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>{agentID}</span><span
style='font-size:8.0pt;font-family:Consolas;color:#A31515'>&amp;password=</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>{m_SmartStartMachineID}</span><span
style='font-size:8.0pt;font-family:Consolas;color:#A31515'>&quot;</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>               
m_log.DebugFormat(</span><span style='font-size:8.0pt;font-family:Consolas;
color:#A31515'>&quot;[LLoginService]: GetSmartStartALTRegion Sending request
{0}&quot;</span><span style='font-size:8.0pt;font-family:Consolas;color:black'>,
url);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>               
HttpWebRequest webRequest;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>try</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                {</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                   
webRequest = (HttpWebRequest)WebRequest.Create(url);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                }</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>catch</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                {</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                   
m_log.Debug(</span><span style='font-size:8.0pt;font-family:Consolas;
color:#A31515'>&quot;[LLoginService]: GetSmartStartALTRegion failed to create
url&quot;</span><span style='font-size:8.0pt;font-family:Consolas;color:black'>);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                    </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>return</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> UUID.Zero;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                }</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>               
webRequest.Timeout = 30000; </span><span style='font-size:8.0pt;font-family:
Consolas;color:green'>//30 Second Timeout</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                webRequest.AllowWriteStreamBuffering
= </span><span style='font-size:8.0pt;font-family:Consolas;color:blue'>false</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>try</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                {</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                    </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>string</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> tempStr;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                    </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>using</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> (HttpWebResponse
webResponse = (HttpWebResponse)webRequest.GetResponse())</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                    {</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                        </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>using</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> (StreamReader reader
= </span><span style='font-size:8.0pt;font-family:Consolas;color:blue'>new</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>
StreamReader(webResponse.GetResponseStream()))</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                           
tempStr = reader.ReadToEnd();</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                    }</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                    </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>if</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> (</span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>string</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>.IsNullOrEmpty(tempStr))</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                    {</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                        m_log.Debug(</span><span
style='font-size:8.0pt;font-family:Consolas;color:#A31515'>&quot;[LLoginService]:
GetSmartStartALTRegion returned null&quot;</span><span style='font-size:8.0pt;
font-family:Consolas;color:black'>);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                       
</span><span style='font-size:8.0pt;font-family:Consolas;color:blue'>return</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> UUID.Zero;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                    }</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                   
m_log.Debug(</span><span style='font-size:8.0pt;font-family:Consolas;
color:#A31515'>&quot;[LLoginService]: GetSmartStartALTRegion returned &quot;</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> + tempStr);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                    regionID
= UUID.Parse(tempStr);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                }</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>catch</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> (Exception ex)</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                {</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                   
m_log.Warn(</span><span style='font-size:8.0pt;font-family:Consolas;color:#A31515'>&quot;[LLoginService]:
GetSmartStartALTRegion exception: &quot;</span><span style='font-size:8.0pt;
font-family:Consolas;color:black'> + ex.Message);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                }</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>            }</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>            </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>return</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> regionID;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>        }</span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'>Line
1163 insert code before #endregion<br>
<br>
<i><span style='font-size:9.5pt;font-family:Consolas;color:black'>m_update_temp_cleaning   
= startupConfig.GetInt(</span></i><i><span style='font-size:9.5pt;font-family:
Consolas;color:#A31515'>&quot;UpdateTempCleaningEveryNSeconds&quot;</span></i><i><span
style='font-size:9.5pt;font-family:Consolas;color:black'>,  
m_update_temp_cleaning);</span></i></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%'>1163:<br>
</span><span style='font-size:8.0pt;line-height:115%;font-family:Consolas;
color:green'>1164: // SmartStart</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>            IConfig
SmartStartConfig = config.Configs[</span><span style='font-size:8.0pt;
font-family:Consolas;color:#A31515'>&quot;SmartStart&quot;</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>];</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>            </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>if</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> (SmartStartConfig != </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>null</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>)</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>            {</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>               
m_SmartStartEnabled = SmartStartConfig.GetBoolean(</span><span
style='font-size:8.0pt;font-family:Consolas;color:#A31515'>&quot;Enabled&quot;</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>,
m_SmartStartEnabled);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>if</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> (m_SmartStartEnabled)</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                {</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                   
m_SmartStartUrl = SmartStartConfig.GetString(</span><span style='font-size:
8.0pt;font-family:Consolas;color:#A31515'>&quot;URL&quot;</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>, m_SmartStartUrl);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                    </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>if</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> (</span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>string</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>.IsNullOrEmpty(m_SmartStartUrl))</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                       
m_SmartStartEnabled = </span><span style='font-size:8.0pt;font-family:Consolas;
color:blue'>false</span><span style='font-size:8.0pt;font-family:Consolas;
color:black'>;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                    </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>else</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                    {</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                       
OSHHTPHost tmpSmartStartURL = </span><span style='font-size:8.0pt;font-family:
Consolas;color:blue'>new</span><span style='font-size:8.0pt;font-family:Consolas;
color:black'> OSHHTPHost(m_SmartStartUrl, </span><span style='font-size:8.0pt;
font-family:Consolas;color:blue'>true</span><span style='font-size:8.0pt;
font-family:Consolas;color:black'>);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                       
</span><span style='font-size:8.0pt;font-family:Consolas;color:blue'>if</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>
(!tmpSmartStartURL.IsResolvedHost)</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                       
{</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                           
m_log.Error(</span><span style='font-size:8.0pt;font-family:Consolas;
color:#A31515'>&quot;[SCENE]: Could not parse or resolve SmartStart URI&quot;</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                           
</span><span style='font-size:8.0pt;font-family:Consolas;color:blue'>throw</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>new</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> Exception(</span><span
style='font-size:8.0pt;font-family:Consolas;color:#A31515'>&quot;SCENE init
error: SmartStart URI&quot;</span><span style='font-size:8.0pt;font-family:
Consolas;color:black'>);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                       
}</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                       
m_SmartStartUrl = tmpSmartStartURL.URI;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                        m_log.Info(</span><span
style='font-size:8.0pt;font-family:Consolas;color:#A31515'>&quot;[SCENE]:
SmartStart Url &quot;</span><span style='font-size:8.0pt;font-family:Consolas;
color:black'> + m_SmartStartUrl);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                       
m_SmartStartMachineID = SmartStartConfig.GetString(</span><span
style='font-size:8.0pt;font-family:Consolas;color:#A31515'>&quot;MachineID&quot;</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>,
m_SmartStartMachineID);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                    }</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                }</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>            }</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>           
m_log.Info(</span><span style='font-size:8.0pt;font-family:Consolas;color:#A31515'>&quot;[SCENE]:
SmartStart &quot;</span><span style='font-size:8.0pt;font-family:Consolas;
color:black'> + (m_SmartStartEnabled ? </span><span style='font-size:8.0pt;
font-family:Consolas;color:#A31515'>&quot;Enabled&quot;</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> : </span><span
style='font-size:8.0pt;font-family:Consolas;color:#A31515'>&quot;Disabled&quot;</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>));</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%;font-family:
Consolas;color:black'>            </span><span style='font-size:8.0pt;
line-height:115%;font-family:Consolas;color:gray'>#endregion</span><span
style='font-size:8.0pt;line-height:115%;font-family:Consolas;color:black'>
Region Config</span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<br clear=all style='page-break-before:always'>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<div style='border:none;border-top:solid #4472C4 1.0pt;padding:2.0pt 0in 0in 0in'>

<h3>EntitityTransferModule.cs</h3>

</div>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:9.5pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:9.5pt;font-family:Consolas;color:black'>File
Opensim.Region.CoreModules.Framework.EntityTransfer.EmntityTransferModule.cs</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:9.5pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:9.5pt;font-family:Consolas;color:black'>Line: 42, insert the
RegionFlags line</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:9.5pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>42:  <i>using</i></span><i><span
style='font-size:8.0pt;font-family:Consolas;color:black'> GridRegion =
OpenSim.Services.Interfaces.GridRegion;</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>43:  using</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> RegionFlags =
OpenSim.Framework.RegionFlags;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:9.5pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:9.5pt;font-family:Consolas;color:black'>Line 755-758. After
this insert the following code:</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>755:  <i>m_log.DebugFormat(</i></span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt;font-family:Consolas;color:black'>756:                   
</span></i><i><span style='font-size:8.0pt;font-family:Consolas;color:#A31515'>&quot;[ENTITY
TRANSFER MODULE]: Failed validation of all attachments 756: for teleport of {0}
from {1} to {2}.  Continuing.&quot;</span></i><i><span style='font-size:8.0pt;
font-family:Consolas;color:black'>,</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt;font-family:Consolas;color:black'>758:                    
sp.Name, sp.Scene.Name, finalDestination.RegionName);</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:9.5pt;font-family:Consolas;color:black'>&nbsp;</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>            </span><span
style='font-size:8.0pt;font-family:Consolas;color:green'>// Smartstart</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>            </span><span
style='font-size:8.0pt;font-family:Consolas;color:green'>//This is still a
test.</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>            </span><span
style='font-size:8.0pt;font-family:Consolas;color:green'>// this possible
should only be called if query fails with a limited set of errors like
connection refused.</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>            </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>if</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> (reg.RegionLocY != 0)
</span><span style='font-size:8.0pt;font-family:Consolas;color:green'>// not on
HG</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>            {</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>if</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>
((finalDestination.RegionFlags &amp; (RegionFlags.Hyperlink |
RegionFlags.DefaultRegion | RegionFlags.FallbackRegion |
RegionFlags.DefaultHGRegion)) == 0)</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                {</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                   
UUID regID = sp.Scene.GetSmartStartALTRegion(finalDestination.RegionID,
sp.ControllingClient.AgentId); </span><span style='font-size:8.0pt;font-family:
Consolas;color:green'>// fkb</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                    </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>if</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> (regID != UUID.Zero
&amp;&amp; regID != finalDestination.RegionID)</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                    {</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                       
</span><span style='font-size:8.0pt;font-family:Consolas;color:blue'>if</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> (regID ==
sp.Scene.RegionInfo.RegionID)</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                       
{</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                           
sp.ControllingClient.SendTeleportFailed(</span><span style='font-size:8.0pt;
font-family:Consolas;color:#A31515'>&quot;Destination region Loading. Teleport
will happen soon&quot;</span><span style='font-size:8.0pt;font-family:Consolas;
color:black'>);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                           
</span><span style='font-size:8.0pt;font-family:Consolas;color:blue'>return</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                       
}</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                       
finalDestination =
sp.Scene.GridService.GetRegionByUUID(sp.Scene.RegionInfo.ScopeID, regID);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                        </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>if</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> (finalDestination == </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>null</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>)</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                       
{</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                           
sp.ControllingClient.SendTeleportFailed(</span><span style='font-size:8.0pt;
font-family:Consolas;color:#A31515'>&quot;Destination region Loading. Teleport
will happen soon&quot;</span><span style='font-size:8.0pt;font-family:Consolas;
color:black'>);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                           
</span><span style='font-size:8.0pt;font-family:Consolas;color:blue'>return</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                        }</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                       
reg = finalDestination;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                    }</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                }</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>            }</span></p>

<span style='font-size:10.0pt;line-height:115%;font-family:"Calibri",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal>&nbsp;</p>

<div style='border:none;border-top:solid #4472C4 1.0pt;padding:2.0pt 0in 0in 0in'>

<h3>GateKeeper.cs</h3>

</div>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'>&nbsp;</p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'>File
Opensim.Services.HypregridService.Gatekeeper.cs</p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'>&nbsp;</p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'>Line
41: insert Using:</p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'>&nbsp;</p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>40: <i>using</i></span><i><span
style='font-size:8.0pt;font-family:Consolas;color:black'> OpenMetaverse;</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>41: using</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> RegionFlags =
OpenSim.Framework.RegionFlags;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>42: <i>using</i></span><i><span
style='font-size:8.0pt;font-family:Consolas;color:black'> Nini.Config;</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:9.5pt;font-family:Consolas;color:black'>&nbsp;</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:9.5pt;font-family:Consolas;color:black'>After line 79 insert
new code:</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt'>&nbsp;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>79: private</span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:black'> </span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>static</span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:black'> </span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>string</span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:black'> m_messageKey;</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>80:</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:green'>81: // SmartStart</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>82: protected</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>static</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>bool</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> m_SmartStartEnabled =
</span><span style='font-size:8.0pt;font-family:Consolas;color:blue'>false</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>83:protected</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>static</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>string</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> m_SmartStartUrl = </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>string</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>.Empty;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>84:protected</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>static</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>string</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> m_SmartStartMachineID
= </span><span style='font-size:8.0pt;font-family:Consolas;color:blue'>string</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>.Empty;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>85:</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>86: public</span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:black'> </span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:#2B91AF'>GatekeeperService</span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:black'>(IConfigSource config,
ISimulationService simService)</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:9.5pt;font-family:Consolas;color:black'>&nbsp;</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:9.5pt;font-family:Consolas;color:black'>After line 182
(italic) insert new code</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'>&nbsp;</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>if</span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:black'> (messagingConfig != </span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>null</span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:black'>)</span></i></p>

<p class=MsoNormal style='margin:0in;text-indent:.5in;line-height:normal;
text-autospace:none'><i><span style='font-size:8.0pt;font-family:Consolas;
color:black'>m_messageKey = messagingConfig.GetString(</span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:#A31515'>&quot;MessageKey&quot;</span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:black'>, String.Empty);</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:green'>// SmartStart fkb</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>IConfig
SmartStartConfig = config.Configs[</span><span style='font-size:8.0pt;
font-family:Consolas;color:#A31515'>&quot;SmartStart&quot;</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>];</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>if</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> (SmartStartConfig != </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>null</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>)</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>{</span></p>

<p class=MsoNormal style='margin:0in;text-indent:.5in;line-height:normal;
text-autospace:none'><span style='font-size:8.0pt;font-family:Consolas;
color:black'>m_SmartStartEnabled = SmartStartConfig.GetBoolean(</span><span
style='font-size:8.0pt;font-family:Consolas;color:#A31515'>&quot;Enabled&quot;</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>,
m_SmartStartEnabled);</span></p>

<p class=MsoNormal style='margin:0in;text-indent:.5in;line-height:normal;
text-autospace:none'><span style='font-size:8.0pt;font-family:Consolas;
color:blue'>if</span><span style='font-size:8.0pt;font-family:Consolas;
color:black'> (m_SmartStartEnabled)</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>        {</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>       
m_SmartStartUrl = SmartStartConfig.GetString(</span><span style='font-size:
8.0pt;font-family:Consolas;color:#A31515'>&quot;URL&quot;</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>, m_SmartStartUrl);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>        </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>if</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> (</span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>string</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>.IsNullOrEmpty(m_SmartStartUrl))</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                m_SmartStartEnabled
= </span><span style='font-size:8.0pt;font-family:Consolas;color:blue'>false</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>else</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                {</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                        OSHHTPHost
tmpSmartStartURL = </span><span style='font-size:8.0pt;font-family:Consolas;
color:blue'>new</span><span style='font-size:8.0pt;font-family:Consolas;
color:black'> OSHHTPHost(m_SmartStartUrl, </span><span style='font-size:8.0pt;
font-family:Consolas;color:blue'>true</span><span style='font-size:8.0pt;
font-family:Consolas;color:black'>);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                         </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>if</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>
(!tmpSmartStartURL.IsResolvedHost)</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                       
{</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                       
         m_log.Error(</span><span style='font-size:8.0pt;font-family:Consolas;
color:#A31515'>&quot;[GATEKEEPER SERVICE]: Could not parse or resolve
SmartStart URI&quot;</span><span style='font-size:8.0pt;font-family:Consolas;
color:black'>);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                               
</span><span style='font-size:8.0pt;font-family:Consolas;color:blue'>throw</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>new</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> Exception(</span><span
style='font-size:8.0pt;font-family:Consolas;color:#A31515'>&quot;GATEKEEPER
SERVICE init error: SmartStart URI&quot;</span><span style='font-size:8.0pt;
font-family:Consolas;color:black'>);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                       
}</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                       
m_SmartStartUrl = tmpSmartStartURL.URI;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                       
m_log.Info(</span><span style='font-size:8.0pt;font-family:Consolas;color:#A31515'>&quot;[GATEKEEPER
SERVICE]: SmartStart Url &quot;</span><span style='font-size:8.0pt;font-family:
Consolas;color:black'> + m_SmartStartUrl);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:1.5in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>m_SmartStartMachineID
= SmartStartConfig.GetString(</span><span style='font-size:8.0pt;font-family:
Consolas;color:#A31515'>&quot;MachineID&quot;</span><span style='font-size:
8.0pt;font-family:Consolas;color:black'>, m_SmartStartMachineID);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                 }</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>        }</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>}</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt;font-family:Consolas;color:black'>m_log.Debug(</span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:#A31515'>&quot;[GATEKEEPER
SERVICE]: Starting...&quot;</span></i><i><span style='font-size:8.0pt;
font-family:Consolas;color:black'>);</span></i></p>

<span style='font-size:10.0pt;line-height:115%;font-family:"Calibri",sans-serif;
color:#1F3763;text-transform:uppercase;letter-spacing:.75pt'><br clear=all>
</span>

<div style='border:none;border-top:solid #4472C4 1.0pt;padding:2.0pt 0in 0in 0in'>

<h3>llLoginService.cs</h3>

</div>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'><br>
</span></i>File Opensim.Services.llLoginService.llLoginService.cs</p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'>&nbsp;</p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'>Line
47: insert Using</p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt'>&nbsp;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>46: <i>using</i></span><i><span
style='font-size:8.0pt;font-family:Consolas;color:black'>
OpenSim.Services.Connectors.Hypergrid;</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>47: using</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> RegionFlags = OpenSim.Framework.RegionFlags;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:9.5pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:9.5pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:9.5pt;font-family:Consolas;color:black'>Line 100 insert new
code</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>99<i>:        </i></span><i><span
style='font-size:8.0pt;font-family:Consolas;color:green'>//IConfig
m_ClientsConfig;</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>100:</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>101:        </span><span
style='font-size:8.0pt;font-family:Consolas;color:green'>// SmartStart</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>102:        </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>protected</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>bool</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> m_SmartStartEnabled =
</span><span style='font-size:8.0pt;font-family:Consolas;color:blue'>false</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>103:        </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>protected</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>string</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> m_SmartStartUrl = </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>string</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>.Empty;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>104:        </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>protected</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>string</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> m_SmartStartMachineID
= </span><span style='font-size:8.0pt;font-family:Consolas;color:blue'>string</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>.Empty;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>105:</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>106:<i>        </i></span><i><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>public</span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:black'> </span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:#2B91AF'>LLLoginService…</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:9.5pt;font-family:Consolas;color:#2B91AF'>&nbsp;</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i>&nbsp;</i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'>Line
199: insert new code</p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'>&nbsp;</p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:9.5pt;font-family:Consolas;color:black'>196: <i>  </i></span><i><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>if</span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:black'> (!</span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>string</span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:black'>.IsNullOrWhiteSpace(agentService))</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>197:<i>               
m_UserAgentService = ServerUtils.LoadPlugin&lt;IUserAgentService&gt;(agentService,
args);</i></span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>198:</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>199:        </span><span
style='font-size:8.0pt;font-family:Consolas;color:green'>// SmartStart</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>            IConfig
SmartStartConfig = config.Configs[</span><span style='font-size:8.0pt;
font-family:Consolas;color:#A31515'>&quot;SmartStart&quot;</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>];</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>            </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>if</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> (SmartStartConfig != </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>null</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>)</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>            {</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                m_SmartStartEnabled
= SmartStartConfig.GetBoolean(</span><span style='font-size:8.0pt;font-family:
Consolas;color:#A31515'>&quot;Enabled&quot;</span><span style='font-size:8.0pt;
font-family:Consolas;color:black'>, m_SmartStartEnabled);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>if</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> (m_SmartStartEnabled)</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                {</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                   
m_SmartStartUrl = SmartStartConfig.GetString(</span><span style='font-size:
8.0pt;font-family:Consolas;color:#A31515'>&quot;URL&quot;</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>, m_SmartStartUrl);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                    </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>if</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> (</span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>string</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>.IsNullOrEmpty(m_SmartStartUrl))</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                       
m_SmartStartEnabled = </span><span style='font-size:8.0pt;font-family:Consolas;
color:blue'>false</span><span style='font-size:8.0pt;font-family:Consolas;
color:black'>;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                    </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>else</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                    {</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                       
OSHHTPHost tmpSmartStartURL = </span><span style='font-size:8.0pt;font-family:
Consolas;color:blue'>new</span><span style='font-size:8.0pt;font-family:Consolas;
color:black'> OSHHTPHost(m_SmartStartUrl, </span><span style='font-size:8.0pt;
font-family:Consolas;color:blue'>true</span><span style='font-size:8.0pt;
font-family:Consolas;color:black'>);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                       
</span><span style='font-size:8.0pt;font-family:Consolas;color:blue'>if</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>
(!tmpSmartStartURL.IsResolvedHost)</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                       
{</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                           
m_log.Error(</span><span style='font-size:8.0pt;font-family:Consolas;
color:#A31515'>&quot;[LLOGIN SERVICE]: Could not parse or resolve SmartStart
URI&quot;</span><span style='font-size:8.0pt;font-family:Consolas;color:black'>);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                           
</span><span style='font-size:8.0pt;font-family:Consolas;color:blue'>throw</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>new</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> Exception(</span><span
style='font-size:8.0pt;font-family:Consolas;color:#A31515'>&quot;LLOGIN SERVICE
init error: SmartStart URI&quot;</span><span style='font-size:8.0pt;font-family:
Consolas;color:black'>);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                       
}</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                       
m_SmartStartUrl = tmpSmartStartURL.URI;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                       
m_log.Info(</span><span style='font-size:8.0pt;font-family:Consolas;color:#A31515'>&quot;[LLOGIN
SERVICE]: SmartStart Url &quot;</span><span style='font-size:8.0pt;font-family:
Consolas;color:black'> + m_SmartStartUrl);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                       
m_SmartStartMachineID = SmartStartConfig.GetString(</span><span
style='font-size:8.0pt;font-family:Consolas;color:#A31515'>&quot;MachineID&quot;</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>,
m_SmartStartMachineID);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                    }</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                }</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>            }</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>           
m_log.Info(</span><span style='font-size:8.0pt;font-family:Consolas;color:#A31515'>&quot;[LLOGIN
SERVICE]: SmartStart &quot;</span><span style='font-size:8.0pt;font-family:
Consolas;color:black'> + (m_SmartStartEnabled ? </span><span style='font-size:
8.0pt;font-family:Consolas;color:#A31515'>&quot;Enabled&quot;</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> : </span><span
style='font-size:8.0pt;font-family:Consolas;color:#A31515'>&quot;Disabled&quot;</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>));</span></p>

<span style='font-size:10.0pt;line-height:115%;font-family:"Calibri",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'>Line
273 insert new code:</p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'>&nbsp;</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>public</span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:black'> </span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:#2B91AF'>LLLoginService</span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:black'>(IConfigSource config)
: </span></i><i><span style='font-size:8.0pt;font-family:Consolas;color:blue'>this</span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:black'>(config, </span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>null</span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:black'>, </span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>null</span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:black'>)</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt;font-family:Consolas;color:black'>        {</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt;font-family:Consolas;color:black'>        }</span></i></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>273:        </span><span
style='font-size:8.0pt;font-family:Consolas;color:green'>//DreamGrid SmartStart</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>        </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>public</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> UUID
GetSmartStartALTRegion(UUID regionID, UUID agentID)</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>        {</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>            </span><span
style='font-size:8.0pt;font-family:Consolas;color:green'>// !!! DreamGrid Smart
Start sends requested Region UUID to Dreamgrid.</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>            </span><span
style='font-size:8.0pt;font-family:Consolas;color:green'>// If region is on
line, returns same UUID. If Offline, returns UUID for Welcome, brings up the
region and teleports you to it.</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>            </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>if</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> (m_SmartStartEnabled)</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>            {</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>string</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> url = </span><span
style='font-size:8.0pt;font-family:Consolas;color:#A31515'>$&quot;</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>{m_SmartStartUrl}</span><span
style='font-size:8.0pt;font-family:Consolas;color:#A31515'>?alt=</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>{regionID}</span><span
style='font-size:8.0pt;font-family:Consolas;color:#A31515'>&amp;agent=UUID&amp;agentid=</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>{agentID}</span><span
style='font-size:8.0pt;font-family:Consolas;color:#A31515'>&amp;password=</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>{m_SmartStartMachineID}</span><span
style='font-size:8.0pt;font-family:Consolas;color:#A31515'>&quot;</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>               
m_log.DebugFormat(</span><span style='font-size:8.0pt;font-family:Consolas;
color:#A31515'>&quot;[LLoginService]: GetSmartStartALTRegion Sending request
{0}&quot;</span><span style='font-size:8.0pt;font-family:Consolas;color:black'>,
url);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>               
HttpWebRequest webRequest;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>try</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                {</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                   
webRequest = (HttpWebRequest)WebRequest.Create(url);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                }</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>catch</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                {</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                   
m_log.Debug(</span><span style='font-size:8.0pt;font-family:Consolas;
color:#A31515'>&quot;[LLoginService]: GetSmartStartALTRegion failed to create
url&quot;</span><span style='font-size:8.0pt;font-family:Consolas;color:black'>);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                    </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>return</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> UUID.Zero;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                }</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>               
webRequest.Timeout = 30000; </span><span style='font-size:8.0pt;font-family:
Consolas;color:green'>//30 Second Timeout</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>               
webRequest.AllowWriteStreamBuffering = </span><span style='font-size:8.0pt;
font-family:Consolas;color:blue'>false</span><span style='font-size:8.0pt;
font-family:Consolas;color:black'>;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>try</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                {</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                    </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>string</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> tempStr;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                    </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>using</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> (HttpWebResponse
webResponse = (HttpWebResponse)webRequest.GetResponse())</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                    {</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                       
</span><span style='font-size:8.0pt;font-family:Consolas;color:blue'>using</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>
(System.IO.StreamReader reader = </span><span style='font-size:8.0pt;
font-family:Consolas;color:blue'>new</span><span style='font-size:8.0pt;
font-family:Consolas;color:black'> System.IO.StreamReader( webResponse.GetResponseStream()))                           
</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:1.0in;text-indent:.5in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>tempStr =
reader.ReadToEnd();</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                    }</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                    </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>if</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> (</span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>string</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'>.IsNullOrEmpty(tempStr))</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                    {</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                       
m_log.Debug(</span><span style='font-size:8.0pt;font-family:Consolas;
color:#A31515'>&quot;[LLoginService]: GetSmartStartALTRegion returned
null&quot;</span><span style='font-size:8.0pt;font-family:Consolas;color:black'>);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                       
</span><span style='font-size:8.0pt;font-family:Consolas;color:blue'>return</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> UUID.Zero;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                    }</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                   
m_log.Debug(</span><span style='font-size:8.0pt;font-family:Consolas;
color:#A31515'>&quot;[LLoginService]: GetSmartStartALTRegion returned &quot;</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> + tempStr);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                   
regionID = UUID.Parse(tempStr);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                }</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>catch</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> (Exception ex)</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                {</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                   
m_log.Warn(</span><span style='font-size:8.0pt;font-family:Consolas;color:#A31515'>&quot;[LLoginService]:
GetSmartStartALTRegion exception: &quot;</span><span style='font-size:8.0pt;
font-family:Consolas;color:black'> + ex.Message);</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>                }</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>            }</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>            </span><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>return</span><span
style='font-size:8.0pt;font-family:Consolas;color:black'> regionID;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>        }</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><span
style='font-size:8.0pt;font-family:Consolas;color:black'>        </span><i><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>public</span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:black'> Hashtable SetLevel(</span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>string</span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:black'> firstName, </span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>string</span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:black'> lastName, </span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>string</span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:black'> passwd, </span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:blue'>int</span></i><i><span
style='font-size:8.0pt;font-family:Consolas;color:black'> level, IPEndPoint
clientIP)</span></i></p>

<i><span style='font-size:8.0pt;line-height:115%;font-family:Consolas;
color:black'><br clear=all style='page-break-before:always'>
</span></i>

<p class=MsoNormal><i><span style='font-size:8.0pt;line-height:115%;font-family:
Consolas;color:black'>&nbsp;</span></i></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>After line 690 function definition</span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:8.0pt;
font-family:"Times New Roman",serif'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
protected GridRegion FindDestination(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UserAccount
account, UUID scopeID, GridUserInfo pinfo, UUID sessionID, string
startLocation,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; GridRegion
home, out GridRegion gatekeeper,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; out string
where, out Vector3 position, out Vector3 lookAt, out TeleportFlags flags)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>&nbsp;</span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>paste in: ( line 696)</span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif'>....start</span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:8.0pt;
font-family:"Times New Roman",serif'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
GridRegion dest = FindDestinationNormal(account, scopeID, pinfo, sessionID,
startLocation, home,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
out gatekeeper, out where, out position, out lookAt, out flags);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
if(!m_SmartStartEnabled || dest == null)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
return dest;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
//RegionFlags.RegionOnline should had a major role here, but it is still
unreliable<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //Jump out
if a special region that must be always up<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // for now
the smartstart wait region must have one such flags<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if
((dest.RegionFlags &amp; (RegionFlags.Hyperlink | RegionFlags.DefaultRegion |
RegionFlags.FallbackRegion | RegionFlags.DefaultHGRegion)) != 0)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
return dest;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UUID rid =
GetSmartStartALTRegion(dest.RegionID, account.PrincipalID);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (rid ==
dest.RegionID)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
return dest;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (rid ==
UUID.Zero)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
return null; //??<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return
m_GridService.GetRegionByUUID(scopeID, rid);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; protected GridRegion
FindDestinationNormal(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UserAccount
account, UUID scopeID, GridUserInfo pinfo, UUID sessionID, string
startLocation,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; GridRegion
home, out GridRegion gatekeeper,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; out string
where, out Vector3 position, out Vector3 lookAt, out TeleportFlags flags)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></p>

<span style='font-size:8.0pt;line-height:115%;font-family:"Times New Roman",serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%;font-family:
"Times New Roman",serif'>IAR patch</span></p>

<p class=MsoNormal><span style='font-size:8.0pt;line-height:115%;font-family:
"Times New Roman",serif'>https://grimore.org/opensim/server_patches/disable_iar_passwords/0.7.6</span></p>

<div style='border:solid #CCBD98 1.0pt;padding:8.0pt 12.0pt 8.0pt 12.0pt'>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><b><span
style='font-size:9.5pt;font-family:"Courier New";color:#888822'>--- ./OpenSim/Region/CoreModules/Avatar/Inventory/Archiver/InventoryArchiverModule.cs.orig        2013-10-04
19:45:02.000000000 +0000</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#888822'>+++
./OpenSim/Region/CoreModules/Avatar/Inventory/Archiver/InventoryArchiverModule.cs        2013-10-16
00:46:01.000000000 +0000</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#440088'>@@ -114,20 +114,19
@@</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                
scene.AddCommand</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                    
&quot;Archiving&quot;, this, &quot;load iar&quot;,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-                   
&quot;load iar </span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>[</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'>-m|--merge</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>]</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'> &lt;first&gt; &lt;last&gt; &lt;inventory path&gt;
&lt;password&gt; </span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>[</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'>&lt;IAR path&gt;</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>]</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#991111'>&quot;,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+                   
&quot;load iar </span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>[</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#00B000'>-m|--merge</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>]</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#00B000'> &lt;first&gt; &lt;last&gt; &lt;inventory path&gt; </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>[</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>&lt;IAR
path&gt;</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>]</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#00B000'>&quot;,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                    
&quot;Load user inventory archive </span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:black'>IAR</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>)</span><span style='font-size:9.5pt;
font-family:"Courier New";color:black'>.&quot;,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                    
&quot;-m|--merge is an option which merges the loaded IAR with existing
inventory folders where possible, rather than always creating new ones&quot;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                    
+ &quot;&lt;first&gt; is user's first name.&quot; + Environment.NewLine</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                    
+ &quot;&lt;last&gt; is user's last name.&quot; + Environment.NewLine</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                    
+ &quot;&lt;inventory path&gt; is the path inside the user's inventory where
the IAR should be loaded.&quot; + Environment.NewLine</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-                   
+ &quot;&lt;password&gt; is the user's password.&quot; + Environment.NewLine</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                    
+ &quot;&lt;IAR path&gt; is the filesystem path or URI from which to load the
IAR.&quot;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                    
+ string.Format</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span><span style='font-size:9.5pt;font-family:"Courier New";
color:black'>&quot;  If this is not given then the filename </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>{</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#CC66CC'>0</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>}</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'> in the current
directory is used&quot;, DEFAULT_INV_BACKUP_FILENAME</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                    
HandleLoadInvConsoleCommand</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:
"Courier New";color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                
scene.AddCommand</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                    
&quot;Archiving&quot;, this, &quot;save iar&quot;,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-                   
&quot;save iar </span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>[</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'>-h|--home=&lt;url&gt;</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>]</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#991111'> </span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>[</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#991111'>--noassets</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>]</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'> &lt;first&gt;
&lt;last&gt; &lt;inventory path&gt; &lt;password&gt; </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>[</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>&lt;IAR
path&gt;</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>]</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'> </span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>[</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'>-c|--creators</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>]</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#991111'> </span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>[</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#991111'>-e|--exclude=&lt;name/uuid&gt;</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>]</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'> </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>[</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-f|--excludefolder=&lt;foldername/uuid&gt;</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>]</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'> </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>[</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-v|--verbose</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>]</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>&quot;,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+                   
&quot;save iar </span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>[</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#00B000'>-h|--home=&lt;url&gt;</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>]</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#00B000'> </span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>[</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#00B000'>--noassets</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>]</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'> &lt;first&gt;
&lt;last&gt; &lt;inventory path&gt; </span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>[</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#00B000'>&lt;IAR path&gt;</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>]</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'> </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>[</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>-c|--creators</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>]</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'> </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>[</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>-e|--exclude=&lt;name/uuid&gt;</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>]</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'> </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>[</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>-f|--excludefolder=&lt;foldername/uuid&gt;</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>]</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'> </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>[</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>-v|--verbose</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>]</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>&quot;,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                    
&quot;Save user inventory archive </span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:black'>IAR</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>)</span><span style='font-size:9.5pt;
font-family:"Courier New";color:black'>.&quot;,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                    
&quot;&lt;first&gt; is the user's first name.\n&quot;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                    
+ &quot;&lt;last&gt; is the user's last name.\n&quot;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#440088'>@@ -184,18
+183,18 @@</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         public
bool ArchiveInventory</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-            
Guid id, string firstName, string lastName, string invPath, string pass, Stream
saveStream</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+            
Guid id, string firstName, string lastName, string invPath, Stream saveStream</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>{</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-           
return ArchiveInventory</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'>id, firstName, lastName, invPath, pass, saveStream, new
Dictionary&lt;string, object&gt;</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>())</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#991111'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+           
return ArchiveInventory</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#00B000'>id, firstName, lastName, invPath, saveStream, new
Dictionary&lt;string, object&gt;</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>())</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#00B000'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         public
bool ArchiveInventory</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-           
Guid id, string firstName, string lastName, string invPath, string pass, Stream
saveStream,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+           
Guid id, string firstName, string lastName, string invPath, Stream saveStream,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
Dictionary&lt;string, object&gt; options</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>{</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>             if </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>(</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>m_scenes.Count
&gt; </span><span style='font-size:9.5pt;font-family:"Courier New";color:#CC66CC'>0</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>             </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>{</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-               
UserAccount userInfo = GetUserInfo</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#991111'>firstName, lastName, pass</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+               
UserAccount userInfo = GetUserInfo</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#00B000'>firstName, lastName</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                
if </span><span style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>(</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>userInfo != null</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                 </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>{</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#440088'>@@ -230,7
+229,7 @@</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         public
bool ArchiveInventory</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-           
Guid id, string firstName, string lastName, string invPath, string pass, string
savePath,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+           
Guid id, string firstName, string lastName, string invPath, string savePath,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
Dictionary&lt;string, object&gt; options</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>{</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'> //            if
</span><span style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>(</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>!ConsoleUtil.CheckFileDoesNotExist</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>(</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>MainConsole.Instance,
savePath</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>))</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#440088'>@@ -238,7
+237,7 @@</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>             if </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>(</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>m_scenes.Count
&gt; </span><span style='font-size:9.5pt;font-family:"Courier New";color:#CC66CC'>0</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>             </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>{</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-               
UserAccount userInfo = GetUserInfo</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#991111'>firstName, lastName, pass</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+               
UserAccount userInfo = GetUserInfo</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#00B000'>firstName, lastName</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                
if </span><span style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>(</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>userInfo != null</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                 </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>{</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#440088'>@@ -272,18
+271,18 @@</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
return false;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-        public
bool DearchiveInventory</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'>string firstName, string lastName, string invPath, string pass,
Stream loadStream</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+        public
bool DearchiveInventory</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#00B000'>string firstName, string lastName, string invPath, Stream
loadStream</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>{</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-            return
DearchiveInventory</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'>firstName, lastName, invPath, pass, loadStream, new
Dictionary&lt;string, object&gt;</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>())</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#991111'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+           
return DearchiveInventory</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#00B000'>firstName, lastName, invPath, loadStream, new
Dictionary&lt;string, object&gt;</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>())</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#00B000'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         public
bool DearchiveInventory</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-           
string firstName, string lastName, string invPath, string pass, Stream
loadStream,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+           
string firstName, string lastName, string invPath, Stream loadStream,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
Dictionary&lt;string, object&gt; options</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>{</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>             if </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>(</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>m_scenes.Count
&gt; </span><span style='font-size:9.5pt;font-family:"Courier New";color:#CC66CC'>0</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>             </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>{</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-               
UserAccount userInfo = GetUserInfo</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#991111'>firstName, lastName, pass</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+               
UserAccount userInfo = GetUserInfo</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#00B000'>firstName, lastName</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                
if </span><span style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>(</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>userInfo != null</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                 </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>{</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#440088'>@@ -326,12
+325,12 @@</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         public
bool DearchiveInventory</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-            
string firstName, string lastName, string invPath, string pass, string
loadPath,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+            
string firstName, string lastName, string invPath, string loadPath,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>             
Dictionary&lt;string, object&gt; options</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>{</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>             if </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>(</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>m_scenes.Count
&gt; </span><span style='font-size:9.5pt;font-family:"Courier New";color:#CC66CC'>0</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>             </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>{</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-               
UserAccount userInfo = GetUserInfo</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#991111'>firstName, lastName, pass</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+               
UserAccount userInfo = GetUserInfo</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#00B000'>firstName, lastName</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                
if </span><span style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>(</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>userInfo != null</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                 </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>{</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#440088'>@@ -383,24
+382,23 @@</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                
List&lt;string&gt; mainParams = optionSet.Parse</span><span style='font-size:
9.5pt;font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:
9.5pt;font-family:"Courier New";color:black'>cmdparams</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-               
if </span><span style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>(</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>mainParams.Count
&lt; 6</span><span style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+               
if </span><span style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>(</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>mainParams.Count
&lt; 5</span><span style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                 </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>{</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                    
m_log.Error</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-                       
&quot;</span><span style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>[</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>INVENTORY
ARCHIVER</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>]</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'>: usage is load iar </span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>[</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#991111'>-m|--merge</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>]</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'> &lt;first
name&gt; &lt;last name&gt; &lt;inventory path&gt; &lt;user password&gt; </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>[</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>&lt;load file
path&gt;</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>]</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'>&quot;</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+                       
&quot;</span><span style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>[</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>INVENTORY
ARCHIVER</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>]</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#00B000'>: usage is load iar </span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>[</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#00B000'>-m|--merge</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>]</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'> &lt;first
name&gt; &lt;last name&gt; &lt;inventory path&gt; </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>[</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>&lt;load file
path&gt;</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>]</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#00B000'>&quot;</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#00B000'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                    
return;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                 </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                
string firstName = mainParams</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>[</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#CC66CC'>2</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>]</span><span style='font-size:9.5pt;font-family:
"Courier New";color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                
string lastName = mainParams</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>[</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#CC66CC'>3</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>]</span><span style='font-size:9.5pt;font-family:
"Courier New";color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                
string invPath = mainParams</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>[</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#CC66CC'>4</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>]</span><span style='font-size:9.5pt;font-family:
"Courier New";color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-               
string pass = mainParams</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>[</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#CC66CC'>5</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>]</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-               
string loadPath = </span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'>mainParams.Count &gt; </span><span style='font-size:9.5pt;
font-family:"Courier New";color:#CC66CC'>6</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#991111'> ? mainParams</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>[</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#CC66CC'>6</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>]</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'> :
DEFAULT_INV_BACKUP_FILENAME</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#991111'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+              string
loadPath = </span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#00B000'>mainParams.Count &gt; </span><span style='font-size:9.5pt;
font-family:"Courier New";color:#CC66CC'>5</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#00B000'> ? mainParams</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>[</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#CC66CC'>5</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>]</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'> :
DEFAULT_INV_BACKUP_FILENAME</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#00B000'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                
m_log.InfoFormat</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                    
&quot;</span><span style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>[</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>INVENTORY
ARCHIVER</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>]</span><span style='font-size:9.5pt;font-family:"Courier New";
color:black'>: Loading archive </span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>{</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#CC66CC'>0</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>}</span><span style='font-size:9.5pt;font-family:
"Courier New";color:black'> to inventory path </span><span style='font-size:
9.5pt;font-family:"Courier New";color:#66CC66'>{</span><span style='font-size:
9.5pt;font-family:"Courier New";color:#CC66CC'>1</span><span style='font-size:
9.5pt;font-family:"Courier New";color:#66CC66'>}</span><span style='font-size:
9.5pt;font-family:"Courier New";color:black'> for </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>{</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#CC66CC'>2</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>}</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'> </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>{</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#CC66CC'>3</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>}</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&quot;,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                    
loadPath, invPath, firstName, lastName</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>)</span><span style='font-size:9.5pt;
font-family:"Courier New";color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-               
if </span><span style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>(</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>DearchiveInventory</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>(</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>firstName,
lastName, invPath, pass, loadPath, options</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>))</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+               
if </span><span style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>(</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>DearchiveInventory</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>(</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>firstName,
lastName, invPath, loadPath, options</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>))</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                    
m_log.InfoFormat</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                        
&quot;</span><span style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>[</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>INVENTORY
ARCHIVER</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>]</span><span style='font-size:9.5pt;font-family:"Courier New";
color:black'>: Loaded archive </span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>{</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#CC66CC'>0</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>}</span><span style='font-size:9.5pt;font-family:
"Courier New";color:black'> for </span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>{</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#CC66CC'>1</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>}</span><span style='font-size:9.5pt;font-family:
"Courier New";color:black'> </span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>{</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#CC66CC'>2</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>}</span><span style='font-size:9.5pt;font-family:
"Courier New";color:black'>&quot;,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                        
loadPath, firstName, lastName</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:
"Courier New";color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#440088'>@@ -444,10
+442,10 @@</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>             try</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>             </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>{</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-               
if </span><span style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>(</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>mainParams.Count
&lt; 6</span><span style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+               
if </span><span style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>(</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>mainParams.Count
&lt; 5</span><span style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                 </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>{</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                    
m_log.Error</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-                       
&quot;</span><span style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>[</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>INVENTORY
ARCHIVER</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>]</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'>: save iar </span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>[</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'>-h|--home=&lt;url&gt;</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>]</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#991111'> </span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>[</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#991111'>--noassets</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>]</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'> &lt;first&gt;
&lt;last&gt; &lt;inventory path&gt; &lt;password&gt; </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>[</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>&lt;IAR
path&gt;</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>]</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'> </span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>[</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'>-c|--creators</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>]</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#991111'> </span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>[</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#991111'>-e|--exclude=&lt;name/uuid&gt;</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>]</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'> </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>[</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-f|--excludefolder=&lt;foldername/uuid&gt;</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>]</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'> </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>[</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-v|--verbose</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>]</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>&quot;</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+                       
&quot;</span><span style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>[</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>INVENTORY
ARCHIVER</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>]</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#00B000'>: save iar </span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>[</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#00B000'>-h|--home=&lt;url&gt;</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>]</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#00B000'> </span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>[</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#00B000'>--noassets</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>]</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'> &lt;first&gt;
&lt;last&gt; &lt;inventory path&gt; </span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>[</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#00B000'>&lt;IAR path&gt;</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>]</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'> </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>[</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>-c|--creators</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>]</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'> </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>[</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>-e|--exclude=&lt;name/uuid&gt;</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>]</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'> </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>[</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>-f|--excludefolder=&lt;foldername/uuid&gt;</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>]</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'> </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>[</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>-v|--verbose</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>]</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>&quot;</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                    
return;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                 </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#440088'>@@ -457,8
+455,7 @@</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                
string firstName = mainParams</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>[</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#CC66CC'>2</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>]</span><span style='font-size:9.5pt;font-family:
"Courier New";color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                
string lastName = mainParams</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>[</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#CC66CC'>3</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>]</span><span style='font-size:9.5pt;font-family:
"Courier New";color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                
string invPath = mainParams</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>[</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#CC66CC'>4</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>]</span><span style='font-size:9.5pt;font-family:
"Courier New";color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-               
string pass = mainParams</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>[</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#CC66CC'>5</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>]</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-               
string savePath = </span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'>mainParams.Count &gt; </span><span style='font-size:9.5pt;
font-family:"Courier New";color:#CC66CC'>6</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#991111'> ? mainParams</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>[</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#CC66CC'>6</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>]</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'> :
DEFAULT_INV_BACKUP_FILENAME</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#991111'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+               
string savePath = </span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#00B000'>mainParams.Count &gt; </span><span style='font-size:9.5pt;
font-family:"Courier New";color:#CC66CC'>5</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#00B000'> ? mainParams</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>[</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#CC66CC'>5</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>]</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'> :
DEFAULT_INV_BACKUP_FILENAME</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#00B000'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                
m_log.InfoFormat</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                    
&quot;</span><span style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>[</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>INVENTORY
ARCHIVER</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>]</span><span style='font-size:9.5pt;font-family:"Courier New";
color:black'>: Saving archive </span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>{</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#CC66CC'>0</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>}</span><span style='font-size:9.5pt;font-family:
"Courier New";color:black'> using inventory path </span><span style='font-size:
9.5pt;font-family:"Courier New";color:#66CC66'>{</span><span style='font-size:
9.5pt;font-family:"Courier New";color:#CC66CC'>1</span><span style='font-size:
9.5pt;font-family:"Courier New";color:#66CC66'>}</span><span style='font-size:
9.5pt;font-family:"Courier New";color:black'> for </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>{</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#CC66CC'>2</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>}</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'> </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>{</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#CC66CC'>3</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>}</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&quot;,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#440088'>@@ -467,7
+464,7 @@</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                
lock </span><span style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>(</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>m_pendingConsoleSaves</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                    
m_pendingConsoleSaves.Add</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span><span style='font-size:9.5pt;font-family:"Courier New";
color:black'>id</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:"Courier New";
color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-               
ArchiveInventory</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'>id, firstName, lastName, invPath, pass, savePath, options</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+               
ArchiveInventory</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#00B000'>id, firstName, lastName, invPath, savePath, options</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>             </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
catch </span><span style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>(</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>InventoryArchiverException
e</span><span style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>             </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>{</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#440088'>@@ -504,9
+501,8 @@</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         ///
&lt;/summary&gt;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         ///
&lt;param name=&quot;firstName&quot;&gt;&lt;/param&gt;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         ///
&lt;param name=&quot;lastName&quot;&gt;&lt;/param&gt;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-        ///
&lt;param name=&quot;pass&quot;&gt;User password&lt;/param&gt;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         ///
&lt;returns&gt;&lt;/returns&gt;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-       
protected UserAccount GetUserInfo</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#991111'>string firstName, string lastName,
string pass</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+        protected
UserAccount GetUserInfo</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#00B000'>string firstName, string lastName</span><span style='font-size:
9.5pt;font-family:"Courier New";color:#66CC66'>)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>{</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
UserAccount account</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                
= m_aScene.UserAccountService.GetUserAccount</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:black'>m_aScene.RegionInfo.ScopeID, firstName,
lastName</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:"Courier New";
color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#440088'>@@ -518,27
+514,7 @@</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                     firstName,
lastName</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:"Courier New";
color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                
return null;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>             </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-           
try</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-            </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>{</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-               
string encpass = Util.Md5Hash</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#991111'>pass</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>)</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#991111'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-               
if </span><span style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>(</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>m_aScene.AuthenticationService.Authenticate</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>(</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>account.PrincipalID,
encpass, 1</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'> != string.Empty</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-               
</span><span style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>{</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-                   
return account;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-               
</span><span style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-               
else</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-               
</span><span style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>{</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-                   
m_log.ErrorFormat</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-                        &quot;</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>[</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>INVENTORY
ARCHIVER</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>]</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'>: Password for user </span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>{</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#991111'>0</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>}</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#991111'> </span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>{</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#991111'>1</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>}</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#991111'> incorrect.  Please try again.&quot;,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-                       
firstName, lastName</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-                   
return null;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-               
</span><span style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-            </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-           
catch </span><span style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>(</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>Exception e</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-            </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>{</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-               
m_log.ErrorFormat</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'>&quot;</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>[</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'>INVENTORY ARCHIVER</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>]</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#991111'>: Could not authenticate password, </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>{</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#CC66CC'>0</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>}</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>&quot;, e</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-               
return null;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-            </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+           
return account;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         ///
&lt;summary&gt;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><b><span
style='font-size:9.5pt;font-family:"Courier New";color:#888822'>--- ./OpenSim/Region/CoreModules/Avatar/Inventory/Archiver/Tests/InventoryArchiveTestCase.cs.orig        2013-10-16
00:52:58.000000000 +0000</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#888822'>+++
./OpenSim/Region/CoreModules/Avatar/Inventory/Archiver/Tests/InventoryArchiveTestCase.cs        2013-10-16
00:53:29.000000000 +0000</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#440088'>@@ -163,7
+163,7 @@</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
scene.AddInventoryItem</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span><span style='font-size:9.5pt;font-family:"Courier New";
color:black'>coaItem</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:"Courier New";
color:black'>;            </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
archiverModule.ArchiveInventory</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>(</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-               
Guid.NewGuid</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>()</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'>, m_uaLL1.FirstName, m_uaLL1.LastName, &quot;/*&quot;,
&quot;hampshire&quot;, archiveWriteStream</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>)</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#991111'>;            </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+               
Guid.NewGuid</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>()</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#00B000'>, m_uaLL1.FirstName, m_uaLL1.LastName, &quot;/*&quot;,
archiveWriteStream</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#00B000'>;            </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
m_iarStreamBytes = archiveWriteStream.ToArray</span><span style='font-size:
9.5pt;font-family:"Courier New";color:#66CC66'>()</span><span style='font-size:
9.5pt;font-family:"Courier New";color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><b><span
style='font-size:9.5pt;font-family:"Courier New";color:#888822'>---
./OpenSim/Region/CoreModules/Avatar/Inventory/Archiver/Tests/InventoryArchiveLoadPathTests.cs.orig        2013-10-16
00:46:32.000000000 +0000</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#888822'>+++
./OpenSim/Region/CoreModules/Avatar/Inventory/Archiver/Tests/InventoryArchiveLoadPathTests.cs        2013-10-16
01:01:58.000000000 +0000</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#440088'>@@ -70,7 +70,7
@@</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
UserAccountHelpers.CreateUserWithInventory</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:black'>scene, m_uaMT, &quot;meowfood&quot;</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
UserAccountHelpers.CreateUserWithInventory</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:black'>scene, m_uaLL1, &quot;hampshire&quot;</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-           
archiverModule.DearchiveInventory</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#991111'>m_uaMT.FirstName, m_uaMT.LastName,
&quot;/&quot;, &quot;meowfood&quot;, m_iarStream</span><span style='font-size:
9.5pt;font-family:"Courier New";color:#66CC66'>)</span><span style='font-size:
9.5pt;font-family:"Courier New";color:#991111'>;            </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+           
archiverModule.DearchiveInventory</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#00B000'>m_uaMT.FirstName, m_uaMT.LastName,
&quot;/&quot;, m_iarStream</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#00B000'>;            </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
InventoryItemBase foundItem1</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                
= InventoryArchiveUtils.FindItemByPath</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:black'>scene.InventoryService,
m_uaMT.PrincipalID, m_item1Name</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:
"Courier New";color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#440088'>@@ -79,7 +79,7
@@</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>             //
Now try loading to a root child folder</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
UserInventoryHelpers.CreateInventoryFolder</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:black'>scene.InventoryService, m_uaMT.PrincipalID,
&quot;xA&quot;, false</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:"Courier New";
color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
MemoryStream archiveReadStream = new MemoryStream</span><span style='font-size:
9.5pt;font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:
9.5pt;font-family:"Courier New";color:black'>m_iarStream.ToArray</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>())</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-           
archiverModule.DearchiveInventory</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#991111'>m_uaMT.FirstName, m_uaMT.LastName,
&quot;xA&quot;, &quot;meowfood&quot;, archiveReadStream</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+           
archiverModule.DearchiveInventory</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#00B000'>m_uaMT.FirstName, m_uaMT.LastName,
&quot;xA&quot;, archiveReadStream</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>)</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#00B000'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
InventoryItemBase foundItem2</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                
= InventoryArchiveUtils.FindItemByPath</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:black'>scene.InventoryService,
m_uaMT.PrincipalID, &quot;xA/&quot; + m_item1Name</span><span style='font-size:
9.5pt;font-family:"Courier New";color:#66CC66'>)</span><span style='font-size:
9.5pt;font-family:"Courier New";color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#440088'>@@ -88,7 +88,7
@@</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>             //
Now try loading to a more deeply nested folder</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
UserInventoryHelpers.CreateInventoryFolder</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:black'>scene.InventoryService,
m_uaMT.PrincipalID, &quot;xB/xC&quot;, false</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>)</span><span style='font-size:9.5pt;
font-family:"Courier New";color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
archiveReadStream = new MemoryStream</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:black'>archiveReadStream.ToArray</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>())</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-           
archiverModule.DearchiveInventory</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#991111'>m_uaMT.FirstName, m_uaMT.LastName,
&quot;xB/xC&quot;, &quot;meowfood&quot;, archiveReadStream</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+           
archiverModule.DearchiveInventory</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#00B000'>m_uaMT.FirstName, m_uaMT.LastName,
&quot;xB/xC&quot;, archiveReadStream</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>)</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#00B000'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
InventoryItemBase foundItem3</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                
= InventoryArchiveUtils.FindItemByPath</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:black'>scene.InventoryService,
m_uaMT.PrincipalID, &quot;xB/xC/&quot; + m_item1Name</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#440088'>@@ -110,7
+110,7 @@</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>             SceneHelpers.SetupSceneModules</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>(</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>scene,
serialiserModule, archiverModule</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:
"Courier New";color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
UserAccountHelpers.CreateUserWithInventory</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:black'>scene, m_uaMT, &quot;password&quot;</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-           
archiverModule.DearchiveInventory</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#991111'>m_uaMT.FirstName, m_uaMT.LastName,
&quot;/Objects&quot;, &quot;password&quot;, m_iarStream</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+           
archiverModule.DearchiveInventory</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#00B000'>m_uaMT.FirstName, m_uaMT.LastName,
&quot;/Objects&quot;, m_iarStream</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>)</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#00B000'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
InventoryItemBase foundItem1</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                
= InventoryArchiveUtils.FindItemByPath</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#440088'>@@ -180,13
+180,13 @@</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
mre.Reset</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>()</span><span style='font-size:9.5pt;font-family:"Courier New";
color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
archiverModule.ArchiveInventory</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>(</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-               
Guid.NewGuid</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>()</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'>, userFirstName, userLastName, &quot;Objects&quot;,
userPassword, archiveWriteStream</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#991111'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+               
Guid.NewGuid</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>()</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#00B000'>, userFirstName, userLastName, &quot;Objects&quot;, archiveWriteStream</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
mre.WaitOne</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#CC66CC'>60000</span><span style='font-size:9.5pt;font-family:"Courier New";
color:black'>, false</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:"Courier New";
color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>             //
LOAD ITEM</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
MemoryStream archiveReadStream = new MemoryStream</span><span style='font-size:
9.5pt;font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:
9.5pt;font-family:"Courier New";color:black'>archiveWriteStream.ToArray</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>())</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-            archiverModule.DearchiveInventory</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>(</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>userFirstName,
userLastName, &quot;Scripts&quot;, userPassword, archiveReadStream</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+           
archiverModule.DearchiveInventory</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#00B000'>userFirstName, userLastName,
&quot;Scripts&quot;, archiveReadStream</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>)</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#00B000'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
InventoryItemBase foundItem1</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                
= InventoryArchiveUtils.FindItemByPath</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><b><span
style='font-size:9.5pt;font-family:"Courier New";color:#888822'>---
./OpenSim/Region/CoreModules/Avatar/Inventory/Archiver/Tests/InventoryArchiveSaveTests.cs.orig        2013-10-16
00:48:52.000000000 +0000</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#888822'>+++
./OpenSim/Region/CoreModules/Avatar/Inventory/Archiver/Tests/InventoryArchiveSaveTests.cs        2013-10-16
00:50:20.000000000 +0000</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#440088'>@@ -110,7
+110,7 @@</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
mre.Reset</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>()</span><span style='font-size:9.5pt;font-family:"Courier New";
color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
m_archiverModule.ArchiveInventory</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-               
Guid.NewGuid</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>()</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'>, userFirstName, userLastName, &quot;/&quot;, userPassword, archiveWriteStream</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+               
Guid.NewGuid</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>()</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#00B000'>, userFirstName, userLastName, &quot;/&quot;, archiveWriteStream</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
mre.WaitOne</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#CC66CC'>60000</span><span style='font-size:9.5pt;font-family:"Courier New";
color:black'>, false</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:"Courier New";
color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>             //
Test created iar</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#440088'>@@ -179,7
+179,7 @@</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
mre.Reset</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>()</span><span style='font-size:9.5pt;font-family:"Courier New";
color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
m_archiverModule.ArchiveInventory</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-               
Guid.NewGuid</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>()</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'>, userFirstName, userLastName, &quot;f1&quot;, userPassword,
archiveWriteStream</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+               
Guid.NewGuid</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>()</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#00B000'>, userFirstName, userLastName, &quot;f1&quot;,
archiveWriteStream</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#00B000'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
mre.WaitOne</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#CC66CC'>60000</span><span style='font-size:9.5pt;font-family:"Courier New";
color:black'>, false</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:"Courier New";
color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>             //
Test created iar</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#440088'>@@ -267,7
+267,7 @@</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
mre.Reset</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>()</span><span style='font-size:9.5pt;font-family:"Courier New";
color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
m_archiverModule.ArchiveInventory</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-               
Guid.NewGuid</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>()</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'>, userFirstName, userLastName, &quot;Objects/&quot; + item1Name,
userPassword, archiveWriteStream</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#991111'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+               
Guid.NewGuid</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>()</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#00B000'>, userFirstName, userLastName, &quot;Objects/&quot; + item1Name,
archiveWriteStream</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#00B000'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
mre.WaitOne</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#CC66CC'>60000</span><span style='font-size:9.5pt;font-family:"Courier New";
color:black'>, false</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:"Courier New";
color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>             byte</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>[]</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'> archive =
archiveWriteStream.ToArray</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>()</span><span style='font-size:9.5pt;font-family:"Courier New";
color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#440088'>@@ -364,7
+364,7 @@</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>             //
When we're not saving assets, archiving is being done synchronously.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
m_archiverModule.ArchiveInventory</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-               
Guid.NewGuid</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>()</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'>, userFirstName, userLastName, &quot;Objects/&quot; + item1Name,
userPassword, archiveWriteStream, options</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>)</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#991111'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+               
Guid.NewGuid</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>()</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#00B000'>, userFirstName, userLastName, &quot;Objects/&quot; + item1Name,
archiveWriteStream, options</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#00B000'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>             byte</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>[]</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'> archive =
archiveWriteStream.ToArray</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>()</span><span style='font-size:9.5pt;font-family:"Courier New";
color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
MemoryStream archiveReadStream = new MemoryStream</span><span style='font-size:
9.5pt;font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:
9.5pt;font-family:"Courier New";color:black'>archive</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><b><span
style='font-size:9.5pt;font-family:"Courier New";color:#888822'>---
./OpenSim/Region/CoreModules/Avatar/Inventory/Archiver/Tests/InventoryArchiveLoadTests.cs.orig        2013-10-16
00:46:40.000000000 +0000</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#888822'>+++
./OpenSim/Region/CoreModules/Avatar/Inventory/Archiver/Tests/InventoryArchiveLoadTests.cs        2013-10-16
01:03:30.000000000 +0000</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#440088'>@@ -72,7 +72,7
@@</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'> //           
TestHelpers.EnableLogging</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>()</span><span style='font-size:9.5pt;font-family:"Courier New";
color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
UserAccountHelpers.CreateUserWithInventory</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:black'>m_scene, m_uaLL1, &quot;password&quot;</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-           
m_archiverModule.DearchiveInventory</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#991111'>m_uaLL1.FirstName, m_uaLL1.LastName, &quot;/&quot;,
&quot;password&quot;, m_iarStream</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>)</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#991111'>;            </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+           
m_archiverModule.DearchiveInventory</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#00B000'>m_uaLL1.FirstName, m_uaLL1.LastName,
&quot;/&quot;, m_iarStream</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#00B000'>;            </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
InventoryItemBase coaItem</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                
= InventoryArchiveUtils.FindItemByPath</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:black'>m_scene.InventoryService,
m_uaLL1.PrincipalID, m_coaItemName</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>)</span><span style='font-size:9.5pt;
font-family:"Courier New";color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#440088'>@@ -107,7
+107,7 @@</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
UserAccountHelpers.CreateUserWithInventory</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:black'>m_scene, m_uaLL1, &quot;meowfood&quot;</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-            m_archiverModule.DearchiveInventory</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>(</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>m_uaLL1.FirstName,
m_uaLL1.LastName, &quot;/&quot;, &quot;meowfood&quot;, m_iarStream</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>)</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>;            </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+           
m_archiverModule.DearchiveInventory</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#00B000'>m_uaLL1.FirstName, m_uaLL1.LastName,
&quot;/&quot;, m_iarStream</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#00B000'>;            </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
InventoryItemBase foundItem1</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                
= InventoryArchiveUtils.FindItemByPath</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:black'>m_scene.InventoryService,
m_uaLL1.PrincipalID, m_item1Name</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:
"Courier New";color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#440088'>@@ -171,7
+171,7 @@</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'> //           
log4net.Config.XmlConfigurator.Configure</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>()</span><span style='font-size:9.5pt;
font-family:"Courier New";color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>             UserAccountHelpers.CreateUserWithInventory</span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>(</span><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>m_scene, m_uaMT,
&quot;password&quot;</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:"Courier New";
color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-           
m_archiverModule.DearchiveInventory</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#991111'>m_uaMT.FirstName, m_uaMT.LastName,
&quot;/&quot;, &quot;password&quot;, m_iarStream</span><span style='font-size:
9.5pt;font-family:"Courier New";color:#66CC66'>)</span><span style='font-size:
9.5pt;font-family:"Courier New";color:#991111'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+           
m_archiverModule.DearchiveInventory</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#00B000'>m_uaMT.FirstName, m_uaMT.LastName,
&quot;/&quot;, m_iarStream</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#00B000'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
InventoryItemBase foundItem1</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>                
= InventoryArchiveUtils.FindItemByPath</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>(</span><span style='font-size:9.5pt;
font-family:"Courier New";color:black'>m_scene.InventoryService,
m_uaMT.PrincipalID, m_item1Name</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:
"Courier New";color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><b><span
style='font-size:9.5pt;font-family:"Courier New";color:#888822'>---
./OpenSim/Region/Framework/Interfaces/IInventoryArchiverModule.cs.orig      2013-10-16
00:55:45.000000000 +0000</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#888822'>+++
./OpenSim/Region/Framework/Interfaces/IInventoryArchiverModule.cs   2013-10-16
00:57:59.000000000 +0000</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#440088'>@@ -59,7 +59,7
@@</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         ///
&lt;param name=&quot;invPath&quot;&gt;The inventory path in which to place the loaded
folders and items&lt;/param&gt;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         ///
&lt;param name=&quot;loadStream&quot;&gt;The stream from which the inventory
archive will be loaded&lt;/param&gt;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         ///
&lt;returns&gt;true if the first stage of the operation succeeded, false
otherwise&lt;/returns&gt;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-        bool
DearchiveInventory</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'>string firstName, string lastName, string invPath, string pass,
Stream loadStream</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+        bool
DearchiveInventory</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#00B000'>string firstName, string lastName, string invPath, Stream
loadStream</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#00B000'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         ///
&lt;summary&gt;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         ///
Dearchive a user's inventory folder from the given stream</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#440088'>@@ -72,7 +72,7
@@</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         /// the
loaded IAR with existing folders where possible.&lt;/param&gt;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         ///
&lt;returns&gt;true if the first stage of the operation succeeded, false
otherwise&lt;/returns&gt;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         bool
DearchiveInventory</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-           
string firstName, string lastName, string invPath, string pass, Stream
loadStream,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+           
string firstName, string lastName, string invPath, Stream loadStream,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
Dictionary&lt;string, object&gt; options</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>)</span><span style='font-size:9.5pt;
font-family:"Courier New";color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         ///
&lt;summary&gt;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#440088'>@@ -84,7 +84,7
@@</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         ///
&lt;param name=&quot;invPath&quot;&gt;The inventory path from which the
inventory should be saved.&lt;/param&gt;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         ///
&lt;param name=&quot;saveStream&quot;&gt;The stream to which the inventory
archive will be saved&lt;/param&gt;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         ///
&lt;returns&gt;true if the first stage of the operation succeeded, false
otherwise&lt;/returns&gt;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-        bool
ArchiveInventory</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#991111'>Guid id, string firstName, string lastName, string invPath,
string pass, Stream saveStream</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:
"Courier New";color:#991111'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+        bool
ArchiveInventory</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#00B000'>Guid id, string firstName, string lastName, string invPath,
Stream saveStream</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>)</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#00B000'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         ///
&lt;summary&gt;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         ///
Archive a user's inventory folder to the given stream</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#440088'>@@ -97,7 +97,7
@@</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         ///
&lt;param name=&quot;options&quot;&gt;Archiving options.  Currently, there are
none.&lt;/param&gt;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         ///
&lt;returns&gt;true if the first stage of the operation succeeded, false otherwise&lt;/returns&gt;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>         bool
ArchiveInventory</span><span style='font-size:9.5pt;font-family:"Courier New";
color:#66CC66'>(</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#991111'>-           
Guid id, string firstName, string lastName, string invPath, string pass, Stream
saveStream,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:#00B000'>+           
Guid id, string firstName, string lastName, string invPath, Stream saveStream,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>            
Dictionary&lt;string, object&gt; options</span><span style='font-size:9.5pt;
font-family:"Courier New";color:#66CC66'>)</span><span style='font-size:9.5pt;
font-family:"Courier New";color:black'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'>     </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.8pt;
margin-left:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.5pt;font-family:"Courier New";color:black'> </span><span
style='font-size:9.5pt;font-family:"Courier New";color:#66CC66'>}</span></p>

</div>

<p class=MsoNormal style='line-height:normal'><span style='font-size:8.0pt;
font-family:"Times New Roman",serif'>&nbsp;</span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:8.0pt;
font-family:"Times New Roman",serif'>&nbsp;</span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:8.0pt;
font-family:"Times New Roman",serif'>\....end</span></p>

<p class=MsoNormal style='margin:0in;line-height:normal;text-autospace:none'><i><span
style='font-size:8.0pt'>&nbsp;</span></i></p>

</div>

</body>

</html>
