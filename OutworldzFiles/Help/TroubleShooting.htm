<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Segoe UI";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:5.0pt;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:5.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	line-height:115%;
	background:#4472C4;
	border:none;
	padding:0in;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;
	color:white;
	text-transform:uppercase;
	letter-spacing:.75pt;
	font-weight:normal;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:5.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	line-height:115%;
	background:#D9E2F3;
	border:none;
	padding:0in;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;
	text-transform:uppercase;
	letter-spacing:.75pt;
	font-weight:normal;}
h3
	{mso-style-link:"Heading 3 Char";
	margin-top:15.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;
	color:#1F3763;
	text-transform:uppercase;
	letter-spacing:.75pt;
	font-weight:normal;}
a:link, span.MsoHyperlink
	{font-family:"Times New Roman",serif;
	color:blue;
	text-decoration:underline;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Times New Roman",serif;
	color:white;
	text-transform:uppercase;
	letter-spacing:.75pt;
	background:#4472C4;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Times New Roman",serif;
	text-transform:uppercase;
	letter-spacing:.75pt;
	background:#D9E2F3;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	font-family:"Times New Roman",serif;
	color:#1F3763;
	text-transform:uppercase;
	letter-spacing:.75pt;}
.MsoChpDefault
	{font-size:10.0pt;
	font-family:"Calibri",sans-serif;}
.MsoPapDefault
	{margin-top:5.0pt;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;}
 /* Page Definitions */
 @page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
-->
</style>

</head>

<body lang=EN-US link=blue vlink="#954F72" style='word-wrap:break-word;
text-justify-trim:punctuation'>

<div class=WordSection1>

<div style='border:solid #4472C4 3.0pt;padding:0in 0in 0in 0in;background:#4472C4'>

<h1><a name="OLE_LINK20">Troubleshooting Manually</a></h1>

</div>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><b><span style='font-family:"Courier New"'>&nbsp;</span></b></p>

<p class=MsoNormal><span lang=EN>You can just run Help-Network Diagnostics and
see what it says. Or troubleshoot it manually, step-by-step. The diagnostics
essentially do what is described below, but sometimes you just need to know
more. This is a list of things to try.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>Diagnostics are run once upon
installation. You can run them again (Help-&gt;Diagnostics).</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN><img width=435 height=474 id="Picture 1"
src="TroubleShooting_files/image001.png" alt=Image></span></p>

<div style='border:solid #D9E2F3 3.0pt;padding:0in 0in 0in 0in;background:#D9E2F3'>

<h2><span lang=EN style='color:black'>Try </span><span style='color:black'>This</span><span
lang=EN style='color:black'> First: </span></h2>

</div>

<p class=MsoNormal><span lang=EN>Reset your router by cycling the router power.
This is often the ONLY WAY to clear out old UPNP entries.</span></p>

<p class=MsoNormal><span lang=EN>UPnP settings are usually removed when the
program is started to keep your system safe. DreamGrid uses Universal Plug and
Play (uPnP) and several diagnostics to configure compatible routers
automatically. uPnP may be disabled or fail. If your router does not support
uPnP, you must manually open ports in your router and Port Forward them to your
PC.</span></p>

<div style='border:solid #D9E2F3 3.0pt;padding:0in 0in 0in 0in;background:#D9E2F3'>

<h2><span lang=EN style='color:black'>Try This Next</span></h2>

</div>

<p class=MsoNormal><span lang=EN>Go to Setyup-&gt; Settings, click the DNS
button at top left, and enter '127.0.0.1'.   Now start the grid.</span></p>

<p class=MsoNormal><span lang=EN>You should also be able to see the Systems
admin web page with a viewer by clicking the above address with the :8002.  </span></p>

<p class=MsoNormal><span lang=EN>Open up your viewer.  Now add the grid </span><a
href="http://127.0.0.1:8002"><span lang=EN style='color:windowtext;text-decoration:
none'>http://127.0.0.1:8002</span></a><span lang=EN> to the viewer.   You
should be able to log in on the Server from the Server. </span></p>

<p class=MsoNormal><span lang=EN>You should see the Welcome region spit out a
lot of text as you log in.  If this fails, it is not your network, router, or
loopback as you are on localhost, aka. 127.0.0.1.   You will need to read the error
message and troubleshoot from there.</span></p>

<div style='border:solid #D9E2F3 3.0pt;padding:0in 0in 0in 0in;background:#D9E2F3'>

<h2><span style='color:black'>Password</span><span lang=EN style='color:black'>
Reset</span></h2>

</div>

<p class=MsoNormal><span lang=EN>You probably forgot the password.  You can
reset your password with the command 'reset user password' in the Robust
screen.</span></p>

<div style='border:solid #D9E2F3 3.0pt;padding:0in 0in 0in 0in;background:#D9E2F3'>

<h2><span lang=EN style='color:black'>Troubleshooting the Network.</span></h2>

</div>

<p class=MsoNormal><span lang=EN><br>
Any IP from outside must be able to connect to port 8002, and from 8004
upwards.   A test at http://canyouseeme.org should work on port 8002 when
Robust is running.  It should also work on port 8004 which is the default home
or welcome region at the very beginning.</span></p>

<p class=MsoNormal><span lang=EN>If not, you need to Port Forward.  See the
manual on Port Forwards.  <br>
<br>
If it does not work after port forwards,  it is very likely to be an antivirus
firewall.  DreamGrid automatically opens the Windows firewall.</span></p>

<div style='border:none;border-top:solid #4472C4 1.0pt;padding:2.0pt 0in 0in 0in'>

<h3><span lang=EN>Anti Virus</span></h3>

</div>

<p class=MsoNormal><span lang=EN>Programs such as MalwareBytes, Norton, Avast,
and others are designed to block Ports.  Try disabling them entirely to get
Canyouseeme.org to work on port 8002.  You have a firewall in your router so
should be perfectly safe.  Once you get the system running, enable your AV one
at a time. If it quits, add exclusions to the ports you used:</span></p>

<p class=MsoNormal><span lang=EN>8001 – Used by PC for icons, signs and status,
may be closed in the router<br>
8002 - Robust HTTP port “The Grid”. This is where avatars connect. Must be open<br>
8003 – <b>Should not be port forwarded.</b> <br>
8004 – from 8004 upwards it uses one port per region. </span></p>

<div style='border:none;border-top:solid #4472C4 1.0pt;padding:2.0pt 0in 0in 0in'>

<h3><span lang=EN>AV Exclusions</span></h3>

</div>

<p class=MsoNormal><span lang=EN>You need to add exclusions to Real Time
Scanners for Outworldzfiles\Opensim\bin\.  Opensim creates millions of files
and thousands of DLL’s.  Let it do so peacefully.</span></p>

<div style='border:solid #D9E2F3 3.0pt;padding:0in 0in 0in 0in;background:#D9E2F3'>

<h2><span lang=EN style='color:black'>Step-By-Step</span></h2>

</div>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>Try these in order:</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>1.&nbsp; http://127.0.0.1:8002 &lt;-
gives a web page.&nbsp; Verifies that robust is running on the machines Network
Card loopback adapter.<br>
<br>
&nbsp;&nbsp;&nbsp; If not, start Robust.&nbsp; </span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><b><span lang=EN>Go to the next step only when this
test passes.</span></b></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>2. Find your LAN IP with the dos command
'ipconfig' or look at the console screen in DreamGrid.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>Use a web browser to go to your LAN IP,
such as http://192.168.0.10:8002</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>You should get a Web Page when robust is
running.&nbsp;&nbsp;If not, double check your IP with the DOS command
'ipconfig'.&nbsp;&nbsp;It will be listed as an IPV4 address.  </span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><b><span lang=EN>Go to the next step only when this
test passes.</span></b></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>&nbsp;3. Use a cellphone or some other
PC connected to your LAN&nbsp;for this next one.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>Navigate using a web browser on that
OTHER device to </span><a href="http://192.168.0.10:8002"><span lang=EN
style='color:windowtext;text-decoration:none'>http://192.168.0.10:8002</span></a><span
lang=EN> or whatever you system reported.  You should see the web page. <br>
<br>
If this fails, it is likely to be an antivirus program blocking a port such as
the Windows Defender firewall. Turn them ALL off.&nbsp; Look for Malwarebytes
or other installations that can block the port.&nbsp; I have troubleshot one
machine that had three anti-viruses.  You can turn them back on once you get it
working, one at a time, and see when Opensim quits.  Then add the necessary
exclusions to that anti-virus program.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><b><span lang=EN>Go to the next step only when this
test passes.</span></b></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>4. If UPNP is enabled in the
Setup-Settings-&gt;Network ports, go to step 5. If not, you MUST port forward port
8002 and 8004-8100 or more in the router.  Go read the manual on Port
Forwards.  </span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>5. All the above tests are
LAN-based.&nbsp; So now try the router:<br>
<br>
&nbsp;&nbsp;&nbsp; </span><a href="http://canyouseeme.org"><span lang=EN>http://canyouseeme.org</span></a><span
lang=EN> on port 8002<br>
<br>
This test must pass.&nbsp;&nbsp; If it does not the problem can be another
firewall is blocking you.&nbsp; Usually this is when people realize they have
their router plugged into another router that needs to port forward, too.   Or
that they are running 3 different Antiviruses. Or that their ISP is terrible
and is blocking you.  Call them on the phone and ask if you are double NAT’ed,</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>Go read the manual on Port Forwards
again.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>Look up your router manual.  Go to http://portforward.com
and look it up.<br>
<br>
If this still fails, it is still likely to be your anti-virus. The grid was
running back in Step 4.   AV can detect if it’s a local IP or a remote IP, so
go shut them all down.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>It can also be the Windows Defender
windows firewall. Turn them all off.&nbsp; Look again for Avast and Malwarebytes
or other installations that can block the LAN port.&nbsp;&nbsp; You have
already proven it is not DreamGrid, so <u>there is no point in re-installing the
grid or restarting it</u>.<br>
<br>
<b>Do not go to the next step until the above is working</b>.&nbsp; There is no
point until the above works.&nbsp; <br>
<br>
If you still can’t get it working, it is likely your ISP is blocking the port.
Call them.<br>
<br>
6.&nbsp; If you added Loopback, go to the network settings and click the
properties of the Microsoft Driver for the Loopback Adapter.&nbsp;&nbsp; You
should have renamed it 'Loopback&quot;.&nbsp; If you did, DreamGrid will update
this IP when it changes.&nbsp; In the IPV4 settings, it should show the same
address Canyouseeme.org shows as the address.&nbsp; The gateway is
255.255.255.0&nbsp;&nbsp; No other settings are needed.&nbsp;&nbsp; Close those
settings, and right click the adapter and enable it. <br>
<br>
7.&nbsp; Navigate to http://(The Ip address reported by
CanyouSeeme.org):8002&nbsp;<br>
<br>
You should see the web page.  If not, recheck the Loopback settings.  <br>
<br>
<b>Go to the next step only when this test passes.</b><br>
<br>
8. Right click the Loopback Network Adapter and disable it, if you have
installed it.  </span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>Navigate to http://(The Ip address
reported by CanyouSeeme.org):8002.&nbsp;&nbsp; It may or may not work.&nbsp; If
not, you need to re-enable the adapter.&nbsp; </span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>If it gives a web page,&nbsp;<b>congratulations,
your router supports loopback. </b>Leave it disabled.<br>
<br>
9. Go to DreamGrid Settings-&gt; Hypergrid DNS name.&nbsp; Add your desired
name, such as in ‘somename.outworldz.net’.&nbsp; The allowed characters are
a-z, 0-9, and a dash '-'.&nbsp; Press Save.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>`0. Go to a DOS prompt.&nbsp; Type
'nslookup&lt;enter&gt;'.&nbsp; Type ‘somename.outworldz.net', where name is the
name you chose.&nbsp; It should report the IP with the exact same number as
Canyouseeme.org.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>11. Add the ‘somename.outworldz.net:8002’
to the viewer’s grid selection, and log in. Both the robust and welcome region
should show you logging in.  If you only see Robust, then you forgot to port
forward or unblock Ports 8004 upwards.   You should unlock 10 to 100 ports for
expansion, as any extras are harmless. </span></p>

<div style='border:solid #D9E2F3 3.0pt;padding:0in 0in 0in 0in;background:#D9E2F3;
margin-left:.5in;margin-right:0in'>

<h2><span lang=EN style='color:black'>Flaky Teleports</span></h2>

</div>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>Multiple factors can cause flaky things,
some of which may not be under your control, such as at the far-end system.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>One way to prove your issue is not
Opensim or your PC network card is to boot up after changing the Hypergrid DNS
name to the IP of the server, or just leave it blank, so it will choose the LAN
IP by default. You should be login to that IP address in your viewer, and
teleports on your grid should take just moments. </span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>Try uploading a dozen textures. Do they
all load without aborting? Now ask some on the Hypergrid to do so. If there is
a difference, you have issues with the router and loopback, as the traffic from
you and the outside both go to the region, but the region cannot reliably reach
some of the ports. </span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>Do you have more than one Network
adapter with paths to the Internet, such as both wireless and hardwired
running? Opensim can listen to only one adapter, but traffic can come back on
either. </span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>Loopback is often flaky in routers. For
example, the routers from FIOS and Frontier have tiny 1K buffers for UDP
leaving to flaky teleports. Have you tried adding the Microsoft Loopback
driver?</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>These are the URLS it checks to see if
it is working that can be run on the server.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>When the DNS name is blank, such as
first boot, I need a LAN IP to broadcast to the viewer. If a LAN IP is
unreachable from the Internet, I announce you cannot Hypergrid.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>DG tries to always make a working
system, no matter what. There are multiple ways to connect to a LAN, by the WAN
IP with or without a DNS name, and as a LAN IP, and localhost.   In a complex
network environment, there can be multiple ways and more than one IP in use to
connect to the outside.   Both Wifi and Ethernet adapters, for example. 
Opensim can only listen to one IP, thus return traffic on the wrong IP can be
lost.   This is flaky, at best, and is a major cause of teleport problems. </span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>Opensim needs to listen and broadcast
only on the &quot;proper&quot; IP.  But which is it?  I do this by connecting
to Googles 8.8.8.8 DNS server, then asking Windows what the Endpoint address
is.   Typically, this is a number in the 192.168 range, or the 10. * range,
which are typical LAN IP's.   But it can be anything.     If I cannot reach it,
I use localhost.   DG will thus always come up in a working configuration on
first boot.  </span></p>

<div style='border:solid #D9E2F3 3.0pt;padding:0in 0in 0in 0in;background:#D9E2F3;
margin-left:.5in;margin-right:0in'>

<h2><span lang=EN style='color:black'>I cannot teleport to two different grids
on the same network.</span></h2>

</div>

<p class=MsoNormal style='margin-left:.5in;text-indent:-.5in'><a name=bugnotes><br>
(1) on the server: add the public IP address as a secondary IP address on the
server's network interface with the 255.255.255.255 mask (web service or whatever
you want on the server should listen on this IP address too); all modern
operating systems will permit you to do this (or a loopback interface with the
public IP address assigned to it can be used instead of adding a secondary IP
to the primary interface).<br>
<br>
(2) on the LAN hosts: add a host route for the public IP address, for example,
for Windows hosts use the following command: route -p add &lt;WANIP&gt; mask
255.255.255.255 &lt;LANIP&gt;<br>
<br>
And fill in the LAN and WAN IP.</a></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:-.5in'><span lang=EN>&nbsp;</span></p>

<div style='border:solid #D9E2F3 3.0pt;padding:0in 0in 0in 0in;background:#D9E2F3;
margin-left:.5in;margin-right:0in'>

<h2><span lang=EN style='color:black'>The URL I use to Test port forwards:</span></h2>

</div>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><a
href="https://outworldz.com/cgi/probetest.plx?Port=9000">https://outworldz.com/cgi/probetest.plx?Port=9000</a></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>Answer should be <b>yes</b></span></p>

<div style='border:solid #D9E2F3 3.0pt;padding:0in 0in 0in 0in;background:#D9E2F3;
margin-left:.5in;margin-right:0in'>

<h2><span lang=EN style='color:black'>Test Private Loopback:</span></h2>

</div>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><a href="http://192.168.2.135:8001"><span lang=EN>http://192.168.2.135:8001</span></a><span
lang=EN>  (change this to your LAN IP of the server)</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>Answer should be <b>Test Completed</b></span></p>

<div style='border:solid #D9E2F3 3.0pt;padding:0in 0in 0in 0in;background:#D9E2F3;
margin-left:.5in;margin-right:0in'>

<h2><span lang=EN style='color:black'>Test Public Loopback</span></h2>

</div>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><a href="http://YOURNAME.Outworldz.net:8002"><span
lang=EN style='color:windowtext;text-decoration:none'>http://YOURNAME.Outworldz.net:8002</span></a></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN> Gives back a web page </span></p>

<div style='border:solid #D9E2F3 3.0pt;padding:0in 0in 0in 0in;background:#D9E2F3;
margin-left:.5in;margin-right:0in'>

<h2><span lang=EN style='color:black'>How to Get on The Hypergrid</span></h2>

</div>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>Accessing the Hypergrid easily requires
a compatible uPnP router with loopback. If your router does not support
loopback, you can still join the Hypergrid by installing a special pointer in
/etc/hosts or a special Windows Device Driver.  Additional information about
routers is available online at the Opensimulator site at </span><a
href="http://opensimulator.org/wiki/NAT_Loopback_Routers"><span lang=EN
style='color:windowtext;text-decoration:none'>http://opensimulator.org/wiki/NAT_Loopback_Routers</span></a>.</p>

<span style='font-size:10.0pt;line-height:115%;font-family:"Calibri",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN>&nbsp;</span></p>

<div style='border:solid #D9E2F3 3.0pt;padding:0in 0in 0in 0in;background:#D9E2F3;
margin-left:.5in;margin-right:0in'>

<h2><span lang=EN style='color:black'>UPnP Not Working?</span></h2>

</div>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>Do you have Plug and Play (uPnP) issues?
Your Help menu has a useful tool to look at uPnP in your router:</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN><img border=0 width=350 height=223
id="Picture 2" src="TroubleShooting_files/image002.png" alt=Image></span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>Free UPnP (Universal Plug and Play) Tool
for Windows</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>You can add, delete, and modify the
settings without a password, assuming you have uPnP enabled. This is included
in Dreamworld and DreamGrid in the Help menu.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>You can still manually forward ports in
your Router.  Instructions for your specific router can be located at </span><a
href="http://www.portforward.com"><span lang=EN style='color:windowtext;
text-decoration:none'>http://www.portforward.com</span></a></p>

<div style='border:solid #D9E2F3 3.0pt;padding:0in 0in 0in 0in;background:#D9E2F3;
margin-left:.5in;margin-right:0in'>

<h2><span lang=EN style='color:black'>Firewall</span></h2>

</div>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>Windows will prompt you to allow Opensim
to open ports when it first runs. If you say no, you will not be able to log
in.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>If you are using an Anti-virus with a
firewall, such as Zone Alarm, AVG Internet Suite, or anything else, running
Start.exe my trigger the 3rd party firewall popup warnings. Opensim.exe needs
to be allowed internet access, and Start.exe should be allowed to make changes.
This code is digitally signed by me, Fred Beckhusen of Outworldz.com, and is
open source and available for inspection on </span><a
href="https://www.github.com/Outworldz"><span lang=EN style='color:windowtext;
text-decoration:none'>https://www.github.com/Outworldz</span></a><span lang=EN>.</span></p>

<div style='border:solid #D9E2F3 3.0pt;padding:0in 0in 0in 0in;background:#D9E2F3;
margin-left:.5in;margin-right:0in'>

<h2><span lang=EN style='color:black'>Updater:</span></h2>

</div>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>If it acts wonky or is missing files,
look in Help-&gt;Check for Updates. It will repair any missing files.</span></p>

<div style='border:solid #D9E2F3 3.0pt;padding:0in 0in 0in 0in;background:#D9E2F3;
margin-left:.5in;margin-right:0in'>

<h2><span lang=EN style='color:black'>Help with Opensim Crashes:</span></h2>

</div>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>Your MySQL database may be crashed. This
is a way to start MYSQL manually.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>Navigate to the Outworldzfiles\MySQL\bin
folder. Press and hold the Shift Key and right click the BLANK area next to the
files. Or navigate there, as I did below, by typing in commands. Then run
&quot;StartManually.bat&quot;</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN><img border=0 width=410 height=223
id="Picture 3" src="TroubleShooting_files/image003.png" alt=Image></span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>Any error message it prints may be
helpful. If the above DOS window closes, a MySQL LOG file will be saved in
OutworldzFiles\MySQL\data as a *.err file. That will give you a clue as to what
to do.</span></p>

<div style='border:solid #D9E2F3 3.0pt;padding:0in 0in 0in 0in;background:#D9E2F3;
margin-left:.5in;margin-right:0in'>

<h2><span lang=EN style='color:black'>My database still did not start.  </span></h2>

</div>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>Try running Outworldzfiles\MySQL\bin\Repair_ISAM.bat. 
Start MySQL and wait until the Task manager in Windows shows that Mysqld.exe is
at 0% CPU use.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>Still not working?  Delete the two 10 MB
files, ib_logfile0, and ib_logfile1 in MySQL\Data and repeat the
Repair_ISAM.bat and run &quot;StartManually.bat&quot; again and wait for the
CPU to drop to 0%</span></p>

<div style='border:solid #D9E2F3 3.0pt;padding:0in 0in 0in 0in;background:#D9E2F3;
margin-left:.5in;margin-right:0in'>

<h2><span lang=EN style='color:black'>Starting Over with A Blank Database</span></h2>

</div>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>You can wipe ALL data out and recreate
it from OAR and IAR files. This WILL LOSE ALL DATA. </span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>If you MUST wipe out the database and
start over, there are two methods.   </span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>The easiest way is to unzip the provided
blank database and replace (do not mix) the contents of MySQL\Data with it.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>Method 2 is to delete the ib_logfile0,
ib_logfile1 and ibdata1 file in OutworldzFiles\MySQL\data (leave the folders).
Then delete just the contents of data\opensim\*. Leave the folder &quot;MySQL\data\MySQL&quot;
alone. </span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>Either method will make it start over at
the very beginning and you need to re-enter your Avatar name and password and
reload everything.</span></p>

<div style='border:solid #D9E2F3 3.0pt;padding:0in 0in 0in 0in;background:#D9E2F3;
margin-left:.5in;margin-right:0in'>

<h2><span lang=EN style='color:black'>Ports</span></h2>

</div>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>Here is more detail about ports and the
way the interact with the outside world such as </span><a
href="file:///G:/Dropbox/Dreamworld/Manuals/www.canyouseeme.org"><span lang=EN
style='color:windowtext;text-decoration:none'>www.canyouseeme.org</span></a><span
lang=EN> and to my diagnostics tests.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>Port 8001:</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>8001 is a TCP/HTTP port that is used for
setting icons to the state of what Opensim is doing, and some other simple
functions such as automatic updating teleport signs and the Partners prim.  It
is unique to Dreamworld. </span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>Port 8002:</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>Opensim has a web server that web
browsers understand, using the same protocol (TCP/HTTP) that tools such as </span><a
href="file:///G:/Dropbox/Dreamworld/Manuals/www.canyouseeme.org"><span lang=EN
style='color:windowtext;text-decoration:none'>www.canyouseeme.org</span></a><span
lang=EN> support. Put simply, Robust listens to port 8002 and answers to
http:// requests on 8002. Port 8002 is much like port 80, the default port for
web pages. You can actually set Dreamworld's 8002 port to 80, and it will work.
You can then drop the need to type :8002 at the end of your hyperlink. </span><a
href="http://hg.Osgrid.org"><span lang=EN style='color:windowtext;text-decoration:
none'>http://hg.Osgrid.org</span></a><span lang=EN> does this. There would be
no need to type the :80, as literally http:// means &quot;add a :80 to the end
of it&quot;. So only 8002 works with web-based probe tools. If you do switch it
to 80, then you must change the Apache port 80 to some other port.  Only one
program can listen to a port.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>If Opensim is not running and your ports
are open, it is as if you tried to connect to </span><a
href="file:///G:/Dropbox/Dreamworld/Manuals/www.google.com's"><span lang=EN
style='color:windowtext;text-decoration:none'>www.google.com's</span></a><span
lang=EN> web server, but their web server is down. Nothing will happen, though
your packets can get through the Google firewall because it is still open to
traffic and is steering it to a dead server. You will get no answer. Similarly,
if Opensim is not running, there is no web server to answer the request.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>Port 8003:</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>This port is listened to by Robust so
regions can chat to the server database for login, presence, and other services
so people can teleport from one region to another. In Dreamgrid, just like OsGrid
or any other remotely attachable grid, the regions can run on any machine
anywhere in the world.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>If you opened port 8003 to anyone on the
web, you expose the internal database protocol to the web. Anyone with the
right knowledge could attach a region to your sim. If you run a DreamGrid and
host region outside your LAN, it is recommended you use firewall rules to only
allow access from known IP addresses running approved regions.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>Port 8004 and upwards:</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>The region ports (8004-upward) run both
TCP and UDP.   UDP is used for the viewer. UDP cuts the load on the server
dramatically as there is no need to automatically always ACK every packet. As
one example, no one cares if an audio stream gets briefly interrupted as you
cannot hear it anyway, and it is too late to use it if it comes later in a
retry. It just gets discarded.</span></p>

<div style='border:solid #D9E2F3 3.0pt;padding:0in 0in 0in 0in;background:#D9E2F3;
margin-left:.5in;margin-right:0in'>

<h2><span lang=EN style='color:black'>Running Manually</span></h2>

</div>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>You can run Opensimulator without
Dreamgrid.  Dreamgrid sets up Opensim to run. Once it has run once, you can run
Opensim without it.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>When you click [Start], Dreamgrid looks
for a MySQL listening on a specific Port. If it does not see one, it starts MySQL
as a separate process. When you exit, it shuts MySQL down gracefully with *MySQL-admin.-u
root shutdown*.  Dreamgrid will detect Robust running on Port 8002 and just use
it. If it does not see it, Dreamgrid starts up a Robust.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>For running manually, MySQL can be used in
two ways.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>1) MySQL\bin\ StartManually.bat runs MySQL
manually. Once the Command Prompt opens, this window can be closed manually, as
MySQL will run by itself in another thread.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>This is also useful for diagnostics and
manual backups and running a Dreamgrid in folder A on a database in Folder B or
C or D:\SomeWhereElse. But there is a significant issue: you need to shut down MySQL
gracefully! This really needs to be done correctly to reboot or log out of
Windows. The command is *MySQL\bin\mysqladmin.-u root shutdown*. There is a
batch file in MySQL\bin named *StopMySql.bat* that will do this for you.</span></p>

<div style='border:solid #D9E2F3 3.0pt;padding:0in 0in 0in 0in;background:#D9E2F3;
margin-left:.5in;margin-right:0in'>

<h2><span lang=EN style='color:black'>Run as A Service </span></h2>

</div>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>You can install MySQL as a Windows
service. There is a batch file *InstallAsAService.bat* in MySQL\bin to set this
up. MySQL will then start with Windows. </span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>This batch file must be run once, as an
Administrator. You type &quot;CMD&quot; in the search box, and then right click
the Command Prompt and select &quot;Run as Administrator&quot;.  Use that DOS
box to run *InstallAsAService.bat*. Then type in 'Services.msc” and use it to
start MySQL.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>You should also set the service to
restart so MySQL restarts on any crash. Windows knows about services and will
send signals to MySQL to shut itself off gracefully. The only danger is that
power fails and you corrupt the database.  I have set this MySQL to always
flush data to the disk without saving it in RAM, which helps.  If you are
serious about running a grid, then a UPS is necessary.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>You can start Robust manually, too.
Outworldzfiles\RunRobust.bat assumes MySQL is running.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>Go.bat starts a command prompt with an
instance of Opensim in it (an instance is a set of sims). The batch file
switches to the bin folder and launches Opensim with the settings it needs for
the INI files and the Log file.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>You can start it all with a batch file
like this:</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN style='font-family:"Courier New"'>@remarkable
batch file to start Dreamgrid manually.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN style='font-family:"Courier New"'>cd MySQL\bin<br>
start startmanually.bat<br>
cd ..\..\opensim<br>
call runrobust.bat<br>
call go Welcome<br>
call go AnotherRegion</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>                                                                                                                                                                 </span></p>

<div style='border:solid #D9E2F3 3.0pt;padding:0in 0in 0in 0in;background:#D9E2F3;
margin-left:.5in;margin-right:0in'>

<h2><span lang=EN style='color:black'>How to Compile DreamGrid</span></h2>

</div>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>The vast majority of this software is
just Opensimulator and MySQL with edits in the INI files to allow
auto-configuration by XML and INI editing.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>The source code package
&quot;How_to_Compile.txt&quot; explains how it is compiled, and what changes
are made.  You need Visual Studio 2015 or higher, and preferably 2019.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:.5in;margin-bottom:
10.0pt;margin-left:.5in'><span lang=EN>&nbsp;</span></p>

</div>

</body>

</html>
